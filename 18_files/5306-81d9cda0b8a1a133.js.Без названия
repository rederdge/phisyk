!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d5c80753-10f3-4cac-9661-d7d0d5c1c393",e._sentryDebugIdIdentifier="sentry-dbid-d5c80753-10f3-4cac-9661-d7d0d5c1c393")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5306],{1365:function(e,t,n){n.d(t,{CP:function(){return M},SD:function(){return h},ef:function(){return p}});var i=n(64688),o=n(17090),a=n(13839),s=n.n(a),r=n(85772),g=n(14691),l=n(20477),d=n(39554),m=n(10746),u=n(81210),c=n(25566);let p=async(e,t)=>{var n;let i=e.getState(),{dispatch:a}=e,{user:{plan:r,teams:g,selectedTeam:l},trial:{alchemy:{data:d}}}=i,m=!0,c=s()(d),p=(null==t?void 0:t.usingPhotoReal)||i.generation.settings.usingPhotoReal,h=(null==t?void 0:t.leonardoMagicVersion)||i.generation.settings.leonardoMagicVersion,S=null==g?void 0:null===(n=g.find(e=>e.akUUID===l))||void 0===n?void 0:n.plan;if((0,u.XL)(null!=S?S:r)){let e=await I({dispatch:a,alchemyTrialStateData:d});(m=e.usingAlchemy)||(p=!1,h=o.PROMPT_MAGIC_VERSIONS.v2),c=e.trialState}return{usingAlchemy:m,usingPhotoReal:p,leonardoMagicVersion:h,updatedAlchemyTrialStateData:c}},h=e=>{var t;let{alchemyTrialStateData:n,thunkApi:i}=e,o=i.getState(),{dispatch:a}=i,{user:{plan:s,teams:r,selectedTeam:g},modals:{hasViewed:l}}=o,d=null==r?void 0:null===(t=r.find(e=>e.akUUID===g))||void 0===t?void 0:t.plan;return(0,u.XL)(null!=d?d:s)?T({dispatch:a,alchemyTrialStateData:n,hasViewed:l}):O({dispatch:a,hasViewed:l})},I=async e=>{let{alchemyTrialStateData:t,dispatch:n}=e,i={usingAlchemy:!1},o={usingAlchemy:!0},a=t;if(M())return{...o,trialState:null};if(!a&&!(a=await S(n)))return{...i,trialState:null};let{isInTrialPeriod:s,hasReachedDailyLimit:r}=a;return!s||r?{...i,trialState:a}:{...o,trialState:a}},S=async e=>{try{var t;let n=await m.Z.mutate({mutation:d.mEe});return e((0,l.Z)()),null===(t=n.data)||void 0===t?void 0:t.startUserAlchemyTrial}catch(e){return console.error("tryStartAlchemyTrial(): ".concat(e.message)),null}},T=e=>{let{dispatch:t,hasViewed:n,alchemyTrialStateData:i}=e;if(!i)return;let{isInTrialPeriod:o,hasReachedDailyLimit:a}=i,s=n[g.Z.FEATURE_INTRO_ALCHEMY_TRIAL];return o?a?t((0,r.I$)({modal:g.Z.ALCHEMY_GENERATIONS_USED})):s?void 0:t((0,r.I$)({modal:g.Z.FEATURE_INTRO_ALCHEMY_TRIAL})):t((0,r.I$)({modal:g.Z.ALCHEMY_EXPIRED}))},O=e=>{let{dispatch:t,hasViewed:n}=e;if(!n[g.Z.FEATURE_INTRO_ALCHEMY_TRIAL])return t((0,r.I$)({modal:g.Z.FEATURE_INTRO_ALCHEMY_TRIAL}))},M=()=>"true"===c.env.NEXT_PUBLIC_MOCK_ALCHEMY_ACCESS_UNRESTRICTED||"false"!==c.env.NEXT_PUBLIC_MOCK_ALCHEMY_ACCESS_UNRESTRICTED&&(0,i.getAlchemyAccessDetails)().unrestricted},78873:function(e,t,n){n.d(t,{CB:function(){return m},EL:function(){return d},Oz:function(){return l},PB:function(){return o}});var i,o,a=n(64688),s=n(17090),r=n(39554),g=n(34587);(i=o||(o={})).IMG_2_IMG="IMG_2_IMG",i.IMG_PROMPT="IMG_PROMPT",i.INPAINT_OUTPAINT="INPAINT_OUTPAINT";let l={prompt:"",negativePrompt:"",modelId:a.generationDefaults.modelId.default,numberOfImages:4,width:1024,height:576,imageSize:void 0,guidanceScale:7,stepCount:10,scheduler:s.sd_generation_schedulers.LEONARDO,imageStrength:.3,photoRealStrength:g.fU.Medium,promptMagicStrength:.3,public:!0,tiling:!1,style:s.sd_generation_style.LEONARDO,styleUUID:void 0,seed:void 0,initImage:void 0,imagePrompts:[],collections:[],makePrivate:!1,poseToImageType:s.POSE_TO_IMAGE_TYPE.POSE,poseToImageWeight:.75,imageToImageStrategy:"IMG_2_IMG",motionPrompts:[{prompt:"",durationSeconds:2}],highResolution:!1,contrast:void 0,contrastBoost:.5,resonance:15,usingAlchemy:!1,usingLeonardoMagic:a.generationDefaults.promptMagic.default,usingHighContrast:!0,usingPoseToImage:!1,usingMotion:a.generationDefaults.motion.default,usingSvd:a.generationDefaults.svd.default,usingPhotoReal:!1,photoRealVersion:a.PhotoRealVersion.V2,usingTransparency:r.T7i.Disabled,leonardoMagicVersion:s.PROMPT_MAGIC_VERSIONS.v2,elements:[],userElements:[],imageInputs:[],usingExpandedDomain:!1,usingFixedSeed:!1,usingNegativePrompt:!1,usingRecommendedDimensions:!0,teamId:void 0,enhancePrompt:void 0,enhancePromptInstruction:void 0},d={usingAlchemy:!0,style:s.sd_generation_style.DYNAMIC},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({...l},e)}},86681:function(e,t,n){n.d(t,{Z:function(){return O}});var i,o,a=n(64688),s=n(17090),r=n(69774),g=n(13839),l=n.n(g),d=n(89590),m=n(39554),u=n(34587),c=n(81210),p=n(78873),h=n(41291),I=n(93380),S=n(25566);(i=o||(o={})).TOGGLED_ON="TOGGLED_ON ",i.TOGGLED_OFF="TOGGLED_OFF",i.TOGGLED_IMG_2_IMG_ON="TOGGLED_IMG_2_IMG_ON",i.TOGGLED_IMG_PROMPT_ON="TOGGLED_IMG_PROMPT_ON",i.TOGGLED_FOREGROUND_ONLY_ON="TOGGLED_FOREGROUND_ONLY_ON",i.TOGGLED_TRANSPARENCY_OFF="TOGGLED_TRANSPARENCY_OFF";class T{transform(e){let t={...e,toggleStatusImageToImage:this.getImageToImageStatus({mode:"imageToImageStrategy",...e}),toggleStatusPromptMagic:this.getToggleStatus({mode:"usingLeonardoMagic",...e}),toggleStatusPhotoReal:this.getToggleStatus({mode:"usingPhotoReal",...e}),toggleStatusAlchemy:this.getToggleStatus({mode:"usingAlchemy",...e}),toggleStatusSvd:this.getToggleStatus({mode:"usingSvd",...e}),toggleStatusTransparency:this.getTransparencyStatus({mode:"usingTransparency",...e})};return(this.prospectiveSettings={...e.currentSettings,...(0,c.WE)(e.nextSettings),...this.maximalDimensionTransform(t)},this.wasAlchemyToggledOn="TOGGLED_ON "===t.toggleStatusAlchemy,this.wasAlchemyToggledOff="TOGGLED_OFF"===t.toggleStatusAlchemy,this.wasPhotoRealToggledOn="TOGGLED_ON "===t.toggleStatusPhotoReal,this.wasPhotoRealToggledOff="TOGGLED_OFF"===t.toggleStatusPhotoReal,this.wasPromptMagicToggledOn="TOGGLED_ON "===t.toggleStatusPromptMagic,this.wasPromptMagicToggledOff="TOGGLED_OFF"===t.toggleStatusPromptMagic,this.wasImagePromptToggledOn="TOGGLED_IMG_PROMPT_ON"===t.toggleStatusImageToImage,this.wasSvdToggledOn="TOGGLED_ON "===t.toggleStatusSvd,this.wasSvdToggledOff="TOGGLED_OFF"===t.toggleStatusSvd,this.wasTransparencyForegroundToggledOn="TOGGLED_FOREGROUND_ONLY_ON"===t.toggleStatusTransparency,this.wasTransparencyToggledOff="TOGGLED_TRANSPARENCY_OFF"===t.toggleStatusTransparency,this.setPreconditionForIllegalValues(t),this.setPreconditionForImagePrompt(t),this.setPreconditionForSdxl(e),this.setEnsuredConditionForControlNet(),this.wasPhotoRealToggledOn)?this.normalizeForPhotoRealToggledOn(e,t):this.wasAlchemyToggledOff?this.normalizeForAlchemyToggledOff(e):this.wasPhotoRealToggledOff?this.normalizeForPhotoRealToggledOff():this.wasAlchemyToggledOn?this.normalizeForAlchemyToggledOn(t):this.wasPromptMagicToggledOn?this.normalizeForPromptMagicToggledOn(e):this.wasPromptMagicToggledOff?this.normalizeForPromptMagicToggledOff():this.wasImagePromptToggledOn?this.normalizeForImagePromptToggledOn():this.wasSvdToggledOn?this.normalizeForSvdToggledOn():this.wasSvdToggledOff?this.normalizeForSvdToggledOff():this.wasTransparencyForegroundToggledOn?this.normalizeForTransparencyToggledOn(e):this.wasTransparencyToggledOff?this.normalizeForTransparencyToggledOff():(this.normalizeGuidanceScale(),this.prospectiveSettings)}setPreconditionForIllegalValues(e){let{nextSettings:t,currentSettings:n}=e;n.promptMagicStrength||t.promptMagicStrength||(this.prospectiveSettings.promptMagicStrength=p.Oz.promptMagicStrength);let i=[u.fU.Low,u.fU.Medium,u.fU.High].includes(this.prospectiveSettings.photoRealStrength);n.photoRealVersion!==a.PhotoRealVersion.V2||t.photoRealVersion!==a.PhotoRealVersion.V1||u.nT.includes(n.style)||(this.prospectiveSettings.style=u.wo),t.modelId===a.MODEL_IDS.PHOTOREAL&&(this.prospectiveSettings.usingPhotoReal=!0,this.prospectiveSettings.photoRealVersion=a.PhotoRealVersion.V1,this.prospectiveSettings.style=u.wo),(!e.nextSettings.motionPrompts||e.nextSettings.motionPrompts.length)&&e.currentSettings.motionPrompts.length||(this.prospectiveSettings.motionPrompts=p.Oz.motionPrompts),i||(this.prospectiveSettings.photoRealStrength=p.Oz.photoRealStrength),Object.keys(u.wX).includes(this.prospectiveSettings.modelId)&&!this.prospectiveSettings.usingAlchemy&&(this.prospectiveSettings.style=u.wX[this.prospectiveSettings.modelId].style);let o=this.getImageStrength();this.getImg2Img()&&null==o&&this.setImageStrength(p.Oz.imageStrength),this.prospectiveSettings.stepCount||(this.prospectiveSettings.stepCount=this.prospectiveSettings.scheduler===s.sd_generation_schedulers.LEONARDO?u.d9:u.f6)}handleSdxlOff(e){var t,n;let i=null===(t=this.modelInfoMap)||void 0===t?void 0:t[e.currentSettings.modelId],o=e.nextSettings.modelId&&(null===(n=this.modelInfoMap)||void 0===n?void 0:n[e.nextSettings.modelId]),a=o&&(0,I.dU)(o.sdVersion),r=i&&(0,I.dU)(i.sdVersion);!a&&r&&e.currentSettings.usingAlchemy&&(this.log("".concat(this.setPreconditionForSdxl.name,": Re-enabled PMv3")),this.prospectiveSettings.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v3,this.prospectiveSettings.usingLeonardoMagic=!0,this.prospectiveSettings.usingTransparency=m.T7i.Disabled)}handleSdxlOn(e){var t;let n=e.nextSettings.modelId&&(null===(t=this.modelInfoMap)||void 0===t?void 0:t[e.nextSettings.modelId]);n&&(0,I.dU)(n.sdVersion)&&(this.log("".concat(this.setPreconditionForSdxl.name,": Set SDXL values for Alchemy (and disabled PM)")),this.prospectiveSettings.usingLeonardoMagic&&(this.prospectiveSettings.usingTransparency=m.T7i.Disabled,this.prospectiveSettings.usingAlchemy&&(this.prospectiveSettings.usingLeonardoMagic=!1),this.prospectiveSettings.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v2))}setPreconditionForSdxl(e){e.nextSettings.modelId&&(this.handleSdxlOff(e),this.handleSdxlOn(e))}setPreconditionForImagePrompt(e){var t;let n=this.prospectiveSettings.imageToImageStrategy,i=this.prospectiveSettings;if("TOGGLED_OFF"===e.toggleStatusPromptMagic){this.prospectiveSettings.imageToImageStrategy=p.PB.IMG_2_IMG;return}let o=(null===(t=this.getImagePrompts())||void 0===t?void 0:t.length)&&n===p.PB.IMG_PROMPT,a=this.getImg2Img()&&n===p.PB.IMG_2_IMG;if(o&&!this.prospectiveSettings.usingLeonardoMagic&&("TOGGLED_OFF"===e.toggleStatusAlchemy?(this.log("".concat(this.setPreconditionForImagePrompt.name,": Reverted to IMG_2_IMG strategy")),this.prospectiveSettings.imageToImageStrategy=p.PB.IMG_2_IMG):(this.log("".concat(this.setPreconditionForImagePrompt.name,": Set to PMV3 and enabled Prompt Magic")),this.prospectiveSettings.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v3,this.prospectiveSettings.usingLeonardoMagic=!0)),e.nextSettings.usingLeonardoMagic&&e.nextSettings.leonardoMagicVersion===s.PROMPT_MAGIC_VERSIONS.v2){this.prospectiveSettings.imageToImageStrategy=p.PB.IMG_PROMPT;return}if(e.currentSettings.imageToImageStrategy===p.PB.IMG_PROMPT&&e.nextSettings.leonardoMagicVersion===s.PROMPT_MAGIC_VERSIONS.v3){this.prospectiveSettings.imageToImageStrategy=p.PB.IMG_2_IMG;return}a&&i.usingLeonardoMagic&&i.usingAlchemy&&(this.prospectiveSettings.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v3)}setEnsuredConditionForControlNet(){this.modelInfoMap&&((0,d.Gl)({modelInfo:this.getSelectedModelInfoFromGenerationSettings(this.modelInfoMap,this.prospectiveSettings),initImage:this.isCanvas||!!this.getImg2Img(),usingLeonardoMagic:this.prospectiveSettings.usingLeonardoMagic,usingAlchemy:this.prospectiveSettings.usingAlchemy})||(this.log("".concat(this.setEnsuredConditionForControlNet.name,": Disabled Pose-to-Image")),this.prospectiveSettings.usingPoseToImage=!1))}getImagePrompts(){var e;return null===(e=this.prospectiveSettings.imageInputs)||void 0===e?void 0:e.filter(e=>e.type===h.N.ImagePrompt)}getImg2Img(){var e;return null===(e=this.prospectiveSettings.imageInputs)||void 0===e?void 0:e.find(e=>e.type===h.N.Img2Img)}getImageStrength(){var e;return null===(e=this.getImg2Img())||void 0===e?void 0:e.weighting}setImageStrength(e){let t=this.getImg2Img();t&&(t.weighting=e)}normalizeForAlchemyToggledOn(e){var t;this.log("".concat(this.normalizeForAlchemyToggledOn.name,": Called"));let n={...this.prospectiveSettings},i=null!==(t=e.currentSettings.modelId)&&void 0!==t?t:p.Oz.modelId,o=(0,I.mA)(i);return this.log("".concat(this.normalizeForAlchemyToggledOn.name,": Ensured PMV3")),n.usingLeonardoMagic=!0,n.usingTransparency=m.T7i.Disabled,n.usingPoseToImage=!1,n.style=u.Yt,n.usingExpandedDomain=!0,n.promptMagicStrength=u.oS,n.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v3,this.log("".concat(this.normalizeForAlchemyToggledOn.name,": Switch to Image to Image")),n.imageToImageStrategy=p.PB.IMG_2_IMG,o&&(this.log("".concat(this.normalizeForAlchemyToggledOn.name,": Ensured prompt magic is turned off for SDXL model")),n.usingLeonardoMagic=!1,n.usingTransparency=e.currentSettings.usingTransparency),n}normalizeForAlchemyToggledOff(e){this.log("".concat(this.normalizeForAlchemyToggledOff.name,": Called"));let t=l()(this.prospectiveSettings);return e.currentSettings.usingPhotoReal&&(t=this.normalizeForPhotoRealToggledOff()),{...t,imageToImageStrategy:p.PB.IMG_2_IMG,promptMagicStrength:u.W3,leonardoMagicVersion:s.PROMPT_MAGIC_VERSIONS.v2,usingPhotoReal:!1,usingLeonardoMagic:!1,style:(0,I.gd)(this.prospectiveSettings.modelId)}}normalizeForPhotoRealToggledOn(e,t){this.log("".concat(this.normalizeForPhotoRealToggledOn.name,": Called"));let n=l()(this.prospectiveSettings);e.currentSettings.usingAlchemy||(n=this.normalizeForAlchemyToggledOn(t));let i=e.nextSettings.modelId&&(0,I.r9)(e.nextSettings.modelId)?e.nextSettings.modelId:a.PhotoRealV2Models.KINO_XL.id;return{...n,modelId:n.photoRealVersion===a.PhotoRealVersion.V2?i:a.MODEL_IDS.PHOTOREAL,imageToImageStrategy:p.PB.IMG_2_IMG,photoRealStrength:u.v4,style:u.wo,usingNegativePrompt:!1,usingLeonardoMagic:!1,usingAlchemy:!0,usingSvd:!1}}normalizeForPhotoRealToggledOff(){return this.log("".concat(this.normalizeForPhotoRealToggledOff.name,": Called")),{...this.prospectiveSettings,style:u.Yt,modelId:p.Oz.modelId}}normalizeForSvdToggledOn(){return this.log("".concat(this.normalizeForSvdToggledOn.name,": Called")),{...this.prospectiveSettings,usingNegativePrompt:!1,usingLeonardoMagic:!1,usingPoseToImage:!1,usingPhotoReal:!1,usingAlchemy:!1,usingSvd:!0,numberOfImages:a.MOTION_MAX_OUTPUTS_PER_GENERATION}}normalizeForSvdToggledOff(){return this.log("".concat(this.normalizeForSvdToggledOff.name,": Called")),{...this.prospectiveSettings,usingSvd:!1}}normalizeForTransparencyToggledOn(e){this.log("".concat(this.normalizeForTransparencyToggledOn.name,": Called"));let t=l()(this.prospectiveSettings);return(0,I.VG)(e.currentSettings.modelId)&&(t.modelId=a.MODEL_IDS.DIFFUSION_XL),{...t,promptMagicStrength:u.W3,usingLeonardoMagic:!1,usingTransparency:m.T7i.ForegroundOnly}}normalizeForTransparencyToggledOff(){return this.log("".concat(this.normalizeForTransparencyToggledOff.name,": Called")),{...this.prospectiveSettings,usingTransparency:m.T7i.Disabled}}normalizeForPromptMagicToggledOn(e){this.log("".concat(this.normalizeForPromptMagicToggledOn.name,": Called"));let t={...this.prospectiveSettings};return this.prospectiveSettings.usingAlchemy&&(t.usingPhotoReal=!1),this.prospectiveSettings.leonardoMagicVersion===s.PROMPT_MAGIC_VERSIONS.v3&&(t.usingAlchemy=!0),(e.currentSettings.usingPhotoReal||(0,I.Dg)(e.currentSettings.modelId))&&(t.modelId=p.Oz.modelId),t.leonardoMagicVersion===s.PROMPT_MAGIC_VERSIONS.v2?t.imageToImageStrategy=p.PB.IMG_PROMPT:t.leonardoMagicVersion===s.PROMPT_MAGIC_VERSIONS.v3&&(t.imageToImageStrategy=p.PB.IMG_2_IMG),t.usingTransparency=m.T7i.Disabled,t}normalizeForPromptMagicToggledOff(){this.log("".concat(this.normalizeForPromptMagicToggledOff.name,": Called"));let e={...this.prospectiveSettings};return e.imageToImageStrategy=p.PB.IMG_2_IMG,e}normalizeForImagePromptToggledOn(){this.log("".concat(this.normalizeForImagePromptToggledOn.name,": Called")),this.log("".concat(this.normalizeForImagePromptToggledOn.name,": Ensured PMv2"));let e={...this.prospectiveSettings};return e.usingLeonardoMagic=!0,e.leonardoMagicVersion=s.PROMPT_MAGIC_VERSIONS.v2,e}maximalDimensionTransform(e){var t,n,i,o;let a={width:null!==(t=e.nextSettings.width)&&void 0!==t?t:e.currentSettings.width,height:null!==(n=e.nextSettings.height)&&void 0!==n?n:e.currentSettings.height,highResolution:null!==(i=e.nextSettings.highResolution)&&void 0!==i?i:e.currentSettings.highResolution};a.width*a.height<=1048576||(this.log("".concat(this.maximalDimensionTransform.name,": Disabled high resolution")),a.highResolution=!1);let s=null!==(o=e.nextSettings.usingRecommendedDimensions)&&void 0!==o?o:e.currentSettings.usingRecommendedDimensions;return s&&"TOGGLED_ON "===e.toggleStatusAlchemy&&(a.height=u.Ib,a.width=u.Ig),s&&"TOGGLED_ON "===e.toggleStatusPhotoReal&&(a.height=u.oL,a.width=u.b7),a.width=Math.min(a.width,u.eJ),a.height=Math.min(a.height,u.eJ),a}normalizeGuidanceScale(){let{guidanceScale:e}=this.prospectiveSettings;null==e&&(this.prospectiveSettings.guidanceScale=p.Oz.guidanceScale)}getSelectedModelInfoFromGenerationSettings(e,t,n){let i=t.modelId;return n||(n=i),e[n]||e[p.Oz.modelId]||{}}getImageToImageStatus(e){let{mode:t,currentSettings:n,nextSettings:i}=e;return n[t]===p.PB.IMG_2_IMG&&i[t]===p.PB.IMG_PROMPT?"TOGGLED_IMG_PROMPT_ON":n[t]===p.PB.IMG_PROMPT&&i[t]===p.PB.IMG_2_IMG?"TOGGLED_IMG_2_IMG_ON":null}getTransparencyStatus(e){let{mode:t,currentSettings:n,nextSettings:i}=e;return n[t]===m.T7i.Disabled&&i[t]===m.T7i.ForegroundOnly?"TOGGLED_FOREGROUND_ONLY_ON":n[t]===m.T7i.ForegroundOnly&&i[t]===m.T7i.Disabled?"TOGGLED_TRANSPARENCY_OFF":null}getToggleStatus(e){let{mode:t,currentSettings:n,nextSettings:i}=e;return!1===n[t]&&!0===i[t]?"TOGGLED_ON ":!0===n[t]&&!1===i[t]?"TOGGLED_OFF":null}log(e){let t="".concat(T.name," ➡️");r.n({type:"state",category:"SettingsNormalizer",message:e,level:"debug"}),this.verbose&&console.log("".concat(t," ").concat(e))}constructor(e){var t;this.verbose=!!Number(S.env.NEXT_PUBLIC_SETTINGS_NORMALIZER_VERBOSITY),this.modelInfoMap=null!==(t=null==e?void 0:e.modelInfoMap)&&void 0!==t?t:null,this.isCanvas=!!(null==e?void 0:e.isCanvas),this.prospectiveSettings=p.Oz}}var O=T},89590:function(e,t,n){n.d(t,{AT:function(){return s},Dd:function(){return a},Gl:function(){return o}});var i=n(17090);let o=e=>{let{modelInfo:t,initImage:n,usingAlchemy:i,isCanvas:o=!1,usingLeonardoMagic:s}=e;if(i||s)return!1;let r=a(t,o),g=o||!!n;return r&&g},a=(e,t)=>!t||e.sdVersion===i.sd_versions.v1_5,s=e=>{let{usingAlchemy:t,usingPhotoReal:n,leonardoMagicVersion:o}=e;return t||n||o===i.PROMPT_MAGIC_VERSIONS.v3}},74549:function(e,t,n){n.d(t,{CI:function(){return g},FA:function(){return l},WO:function(){return p}});var i=n(64688),o=n(78873),a=n(93380),s=n(34587),r=n(81210);let g=(e,t)=>(e.timestamp||0)-(t.timestamp||0),l=(e,t)=>{let n=(0,r.As)(t,e);return Object.values(s.lJ).includes(e)?n:(0,r.wX)(n,e,5)},d=e=>e.promptMagic&&!e.promptMagicStrength?e.initStrength:e.promptMagicStrength,m=e=>e.photoReal&&!e.photoRealStrength?e.initStrength:e.photoRealStrength,u=e=>e.photoReal&&!e.photoRealVersion?i.PhotoRealVersion.V1:e.photoRealVersion,c=e=>e.promptMagic&&!e.promptMagicStrength||e.photoReal&&!e.photoRealStrength?null:e.initStrength,p=(e,t)=>{let n=(e.generation_elements||[]).filter(e=>!!e&&!!e.lora).map(e=>({id:e.lora.akUUID,weight:e.weightApplied,isEnabled:!0})),s={...o.Oz,contrastBoost:e.contrastRatio,height:e.imageHeight,highResolution:e.highResolution,imagePromptStrength:e.imagePromptStrength,imageStrength:c(e),leonardoMagicVersion:e.promptMagicVersion,modelId:e.modelId,negativePrompt:e.negativePrompt,prompt:e.prompt,scheduler:e.scheduler,promptMagicStrength:d(e),photoRealStrength:m(e),stepCount:e.inferenceSteps,style:e.presetStyle,tiling:e.tiling,usingAlchemy:e.alchemy,usingPhotoReal:e.photoReal,photoRealVersion:u(e),usingHighContrast:e.highContrast,usingLeonardoMagic:e.promptMagic,usingNegativePrompt:!!e.negativePrompt,width:e.imageWidth,elements:n,public:t.public,usingRecommendedDimensions:t.usingRecommendedDimensions},g={...o.Oz,...(e=>{let t={...e};return Object.keys(t).forEach(e=>null===t[e]&&delete t[e]),t})(s)},l=(0,r.pf)({width:g.width,height:g.height,usingAlchemy:g.usingAlchemy,usingHighRes:g.highResolution,promptMagicVersion:g.leonardoMagicVersion,usingPromptMagic:g.usingLeonardoMagic,usingPhotoRealV1:g.usingPhotoReal&&g.photoRealVersion===i.PhotoRealVersion.V1,usingPhotoRealV2:g.usingPhotoReal&&g.photoRealVersion===i.PhotoRealVersion.V2,usingAlchemyV2:g.usingAlchemy&&(0,a.mA)(g.modelId)&&!g.usingPhotoReal,usingTransparency:g.usingTransparency});return g.numberOfImages=t.numberOfImages>l?l:t.numberOfImages,g}},24604:function(e,t,n){n.d(t,{G8:function(){return k},aO:function(){return W},ZP:function(){return K},sG:function(){return H},v8:function(){return B},Zv:function(){return j},IS:function(){return J},Sl:function(){return x},VZ:function(){return z},ET:function(){return U},Di:function(){return Y}});var i={};n.r(i),n.d(i,{addImagePrompt:function(){return A},addLoadingVariation:function(){return N},decrementUploadCount:function(){return E},deleteLoadingVariation:function(){return C},forgetModelId:function(){return P},incrementUploadCount:function(){return R},removeImageInputsUsingUploadId:function(){return w},removeImagePrompt:function(){return L},resetSettings:function(){return y},setImageGuidanceSidebarRedirectAsViewed:function(){return G},setLastModelId:function(){return v},setModelId:function(){return f},showAdvancedGenerationSettings:function(){return _}});var o=n(34036),a=n(26198),s=n(81046),r=n(40807),g=n(78873),l=n(86681),d=n(74549);let m={showAdvancedSettings:!1,lastModelIds:[],settings:(0,g.CB)(),isGenerating:!1,modelInfo:{modelInfoMap:{},leoModelInfoMap:{},customModelInfoMap:{},isLoading:!1,firstLoadComplete:!1},loadingVariations:{},imagesUploadingCount:0,recentImages:[],hasClosedImageGuidanceSidebarRedirect:!1};var u=n(79215),c=n(39554),p=n(34587),h=n(81210),I=n(93380),S=n(91825),T=n(63432),O=n(40851),M=n(41291);let f=(e,t)=>{e.lastModelIds=(0,d.FA)(t.payload,e.lastModelIds);let n=new l.Z().transform({currentSettings:e.settings,nextSettings:{...e.settings,modelId:t.payload}});Object.assign(e.settings,n)},v=(e,t)=>{(0,I.Nz)(t.payload)||(e.lastModelIds=(0,d.FA)(t.payload,e.lastModelIds))},P=(e,t)=>{e.lastModelIds=(0,h.As)(e.lastModelIds,t.payload)},_=(e,t)=>{e.showAdvancedSettings=t.payload},y=(e,t)=>{let n=t.payload,i={...m.settings,...n&&g.EL,public:e.settings.public};(0,O.IW)(e.settings,i)},R=e=>{e.imagesUploadingCount=e.imagesUploadingCount+1},G=e=>{e.hasClosedImageGuidanceSidebarRedirect=!0},E=e=>{e.imagesUploadingCount>0&&(e.imagesUploadingCount=e.imagesUploadingCount-1)},A=(e,t)=>{if(t.payload.useMultipleControlNetLogic){let n=e.settings.imageInputs.filter(e=>e.initImageId!==t.payload.image.id);if(!t.payload.image.id)throw Error("No initImageId passed to addImagePrompt reducer?");e.settings.imageInputs=(0,h.wX)(n,{type:M.N.ImagePrompt,initImageId:t.payload.image.id,initImageType:{[S.es.Upload]:c.esw.Uploaded,[S.es.Generated]:c.esw.Generated}[t.payload.image.type],isEnabled:!0,weighting:(0,u.O_)({imageInputType:M.N.ImagePrompt}).default,dimensions:t.payload.dimensions},p.Ih)}else{let n=e.settings.imagePrompts.filter(e=>e.url!==t.payload.image.url);e.settings.imagePrompts=(0,h.wX)(n,t.payload.image,p.Ih).sort(d.CI)}},L=(e,t)=>{if(t.payload.useMultipleControlNetLogic){let n=e.settings.imageInputs.filter(e=>e.initImageId!==t.payload.image.id);e.settings.imageInputs=n}else{let n=e.settings.imagePrompts.filter(e=>e.url!==t.payload.image.url);e.settings.imagePrompts=n.sort(d.CI)}},N=(e,t)=>{let{imageId:n,imageVariationType:i}=t.payload;return{...e,loadingVariations:{...e.loadingVariations,[n]:[...e.loadingVariations[n]||[],i]}}},C=(e,t)=>{let n=(0,T.Kb)(e.loadingVariations,t.payload);return{...e,loadingVariations:n}},w=(e,t)=>{e.settings.imageInputs=e.settings.imageInputs.filter(e=>!(e.initImageType===c.esw.Uploaded&&e.initImageId===t.payload))},V=e=>e?Array.isArray(e)?e:[e]:[],D=(0,a.pH)(e=>({...e,imageInputs:(e.imageInputs||[]).map(e=>{let t={...e};return delete t.base64ImageUri,delete t.isUploading,t}),scheduler:m.settings.scheduler,seed:m.settings.seed,imageStrength:m.settings.imageStrength,stepCount:m.settings.stepCount,guidanceScale:m.settings.guidanceScale,usingFixedSeed:m.settings.usingFixedSeed,initImage:m.settings.initImage,imagePrompts:m.settings.imagePrompts,usingNegativePrompt:m.settings.usingNegativePrompt,photoRealStrength:m.settings.photoRealStrength,promptMagicStrength:m.settings.promptMagicStrength,usingHighContrast:m.settings.usingHighContrast,usingPoseToImage:m.settings.usingPoseToImage,poseToImageWeight:m.settings.poseToImageWeight,poseToImageType:m.settings.poseToImageType,highResolution:m.settings.highResolution,contrastBoost:m.settings.contrastBoost,resonance:m.settings.resonance,usingExpandedDomain:m.settings.usingExpandedDomain,tiling:m.settings.tiling}),e=>{let t=new l.Z;return e.imagePrompts=V(e.imagePrompts),e.imageInputs=V(e.imageInputs),e.imageInputs.forEach(e=>{e.isEnabled=!1}),e.motionPrompts&&e.motionPrompts.length||(e.motionPrompts=g.Oz.motionPrompts),"boolean"==typeof e.usingTransparency&&(e.usingTransparency?e.usingTransparency=c.T7i.ForegroundOnly:e.usingTransparency=c.T7i.Disabled),t.transform({currentSettings:(0,g.CB)(),nextSettings:e})},{whitelist:["settings"]}),F=(0,a.pH)(e=>(e||[]).map(e=>{let t={...e};return delete t.base64ImageUri,delete t.isUploading,t}),e=>e,{whitelist:["recentImages"]}),b=(0,o.oM)({name:"generation",initialState:m,reducers:i,extraReducers:e=>{e.addCase(r.XX.pending,e=>({...e,modelInfo:{...e.modelInfo,isLoading:!0}})),e.addCase(r.XX.fulfilled,(e,t)=>({...e,modelInfo:{...t.payload,isLoading:!1,firstLoadComplete:!0}})),e.addCase(r.XX.rejected,e=>({...e,modelInfo:{...e.modelInfo,isLoading:!1}})),e.addCase(r.ew.pending,e=>({...e,isGenerating:!0})),e.addCase(r.ew.fulfilled,e=>({...e,isGenerating:!1})),e.addCase(r.ew.rejected,e=>({...e,isGenerating:!1})),e.addCase(r.I2.fulfilled,(e,t)=>({...e,settings:{...e.settings,...t.payload}})),e.addCase(r.kB.fulfilled,(e,t)=>({...e,settings:{...e.settings,...t.payload}}))}}),{setModelId:U,setLastModelId:z,resetSettings:x,forgetModelId:B,addImagePrompt:Z,removeImagePrompt:X,showAdvancedGenerationSettings:Y,addLoadingVariation:k,deleteLoadingVariation:H,incrementUploadCount:j,decrementUploadCount:W,setImageGuidanceSidebarRedirectAsViewed:q,removeImageInputsUsingUploadId:J}=b.actions;b.reducer;var K=(0,a.OJ)({key:"generation",transforms:[D,F],storage:s.Z,whitelist:["settings","hasClosedImageGuidanceSidebarRedirect","recentImages"]},b.reducer)},40807:function(e,t,n){n.d(t,{ew:function(){return N},kB:function(){return V},BM:function(){return C},I2:function(){return w},XX:function(){return L}});var i=n(34036),o=n(20013),a=n(86681),s=n(89590),r=n(74549),g=n(24604),l=n(64688),d=n(17090),m=n(69774),u=n(70845),c=n.n(u),p=n(10746),h=n(34587),I=n(81210),S=n(93380),T=n(79215),O=n(39554),M=n(8997),f=n(28088),v=n(41291),P=n(78873);let _=e=>!e.usingLeonardoMagic||e.leonardoMagicVersion===d.PROMPT_MAGIC_VERSIONS.v3&&(0,S.dU)(e.sdVersion)||e.leonardoMagicVersion===d.PROMPT_MAGIC_VERSIONS.v3&&!e.usingAlchemy?{usingLeonardoMagic:!1}:{usingLeonardoMagic:e.usingLeonardoMagic,leonardoMagicVersion:(0,S.dU)(e.sdVersion)?d.PROMPT_MAGIC_VERSIONS.v2:e.leonardoMagicVersion},y=async function(e,t,n){var i,o,a,s;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=n.getState(),{dispatch:u}=n,{modelId:M,prompt:y,width:E,height:A,imageSize:L,negativePrompt:N,seed:C,numberOfImages:w,contrast:V,guidanceScale:D,stepCount:F,scheduler:b,imageStrength:U,promptMagicStrength:z,photoRealStrength:x,public:B,tiling:Z,style:X,styleUUID:Y,usingNegativePrompt:k,onPending:H,canvasInitId:j,canvasMaskId:W,canvasRequestType:q,collections:J,usingFixedSeed:K,usingPoseToImage:$,poseToImageType:Q,poseToImageWeight:ee,usingHighContrast:et,sdVersion:en,dilate_mask:ei,usingMotion:eo,usingAlchemy:ea,resonance:es,contrastBoost:er,highResolution:eg,usingExpandedDomain:el,imageToImageStrategy:ed,elements:em,userElements:eu,usingPhotoReal:ec,usingTransparency:ep,photoRealVersion:eh,motionPrompts:eI,imageInputs:eS=[],teamId:eT,enhancePrompt:eO,enhancePromptInstruction:eM}=e;(0,m.n)({type:"state",category:"generateAiImage",message:"Processing settings for generation",data:e,level:"debug"});let ef=g.generation.modelInfo.modelInfoMap,ev=(0,I._B)(g.user),eP=ev===d.plan.FREE,e_=null!==(a=null===(i=ef[M])||void 0===i?void 0:i.sdVersion)&&void 0!==a?a:en,ey=t=>!0===(0,T._m)({imageInput:t,imageInputIdx:0,imageInputs:eS.filter(e=>e.isEnabled),usingLeonardoMagic:e.usingLeonardoMagic,usingAlchemy:e.usingAlchemy,currentSdVersion:e_,leonardoMagicVersion:e.leonardoMagicVersion,usingPhotoReal:e.usingPhotoReal,usingTransparency:e.usingTransparency,photoRealVersion:e.photoRealVersion}),eR=eS.filter(e=>e.isEnabled&&ey(e)),eG=eR.find(e=>e.type===v.N.Img2Img),eE=eR.filter(e=>e.type===v.N.ImagePrompt),eA=eS.filter(e=>e.type===v.N.ControlNet&&e.isEnabled),eL=(await (0,I.cY)({controlnets:eA,imageInputs:eS.filter(e=>e.isEnabled),apolloClient:p.Z,usingAlchemy:e.usingAlchemy,currentSdVersion:e_,leonardoMagicVersion:e.leonardoMagicVersion,usingPhotoReal:e.usingPhotoReal,usingLeonardoMagic:e.usingLeonardoMagic,currentPlan:ev,usingTransparency:e.usingTransparency,photoRealVersion:e.photoRealVersion})).map(e=>({preprocessorId:e.preprocessorId,initImageType:e.initImageType,initImageId:e.initImageId,weight:e.weighting,influence:e.influence,controlnetType:e.match.controlnetType})).slice(0,eP?l.CONTROLNETS_LIMIT_FREE_USER:l.CONTROLNETS_LIMIT_PREMIUM_USER),eN=eL.map(e=>({preprocessorId:e.preprocessorId,initImageType:e.initImageType,initImageId:e.initImageId,weight:e.weight,influence:e.influence})),eC=(0,I.hr)(p.Z,ec&&eh!==l.PhotoRealVersion.V2?d.sd_versions.v1_5:e_,em||[]).map(e=>{let t=(0,I.U8)(e.id),n=p.Z.readFragment({id:t,fragment:O.UzV});return{id:e.id,weightApplied:e.weight,lora:n}}),ew=eC.map(e=>({akUUID:e.id,weight:e.weightApplied})),{usingLeonardoMagic:eV,leonardoMagicVersion:eD}=_(e),eF=k?N:"",eb=!!((j||W)&&q),eU=!(0,S.Nz)(M),ez=K?C:void 0,ex={leonardoMagic:eV};if(ed===P.PB.IMG_PROMPT){let e=eE.map(e=>null==e?void 0:e.initImageId).filter(Boolean);ex.imagePrompts=e}eG&&!eb&&(eG.initImageType===O.esw.Uploaded?ex.init_image_id=eG.initImageId:eG.initImageType===O.esw.Generated&&(ex.init_generation_image_id=eG.initImageId));let eB=!!eG||eb,eZ=(null==eG?void 0:eG.type)===v.N.Img2Img?eG.weighting:U,eX=!!eE.length,eY=null===(o=eE[0])||void 0===o?void 0:o.weighting,ek={init_strength:eB?eZ:void 0,imagePromptWeight:eX?eY:void 0,promptMagicStrength:eV?z:void 0,photoRealStrength:ec&&eh!==l.PhotoRealVersion.V2?x:void 0},eH={};ea&&(eH={alchemy:!0},(ec||!(0,S.dU)(null!=e_?e_:""))&&(eH.highResolution=!!eg,eH.contrastRatio=er,eH.guidance_scale=es));let ej=c()(16).toString("hex"),eW=null!==(s=ef[M])&&void 0!==s?s:en?h.wX[en]:null,eq={id:ej,imageWidth:E,imageHeight:A,prompt:y,negativePrompt:eF,coreModel:d.core_models.SD,custom_model:{id:M,name:(null==eW?void 0:eW.name)||"Error"},status:h.bw,createdAt:"0",presetStyle:X,quantity:w,seed:ez,public:B,inferenceSteps:F,modelId:M,guidanceScale:D,scheduler:b,tiling:Z,highContrast:et,promptMagic:eV,generation_controlnets:[],generation_elements:eC,photoReal:ec,transparency:ep};null==H||H(eq);let eJ={arg1:{prompt:y,negative_prompt:eF,nsfw:!0,num_images:w,width:E,height:A,image_size:L,num_inference_steps:F,contrast:V,guidance_scale:D,sd_version:e_,modelId:(0,S.VU)({usingPhotoReal:ec,customRequest:eU,photoRealVersion:eh,modelId:M}),presetStyle:X,scheduler:b,public:null==B||B,tiling:null!=Z&&Z,seed:ez,...ex,...ek,...eH,...eb?{canvasInitId:j,canvasMaskId:W,canvasRequestType:q,canvasRequest:eb}:{},poseToImage:$,poseToImageType:Q,weighting:ee,highContrast:(!!eV||!!ec)&&et,dilate_mask:ei,expandedDomain:ea?el:void 0,leonardoMagicVersion:eD,elements:ew,userElements:eu.map(e=>({userLoraId:Number(e.id),weight:e.weight})),controlnets:eN,photoReal:ec,photoRealVersion:ec?eh:void 0,teamId:eT,transparency:ep,styleUUID:Y,enhancePrompt:eO,enhancePromptInstruction:eM,collectionIds:J.filter(e=>e.teamId===(eT?String(eT):"null")).map(e=>e.id)}};if(eo&&t.isMotionEnabled)return G(ej,{public:B,modelId:M,height:A,width:E,style:X,numImages:w,scheduler:"LEONARDO",segments:[{...eI[0],negativePrompt:k?N:""}]},{onSuccess:()=>{u((0,f.hk)())}},r);let eK=[eB?"ImageToImage":""].filter(e=>e),e$=null==eL?void 0:eL.map(e=>e.controlnetType).sort().join(", "),eQ=e$?e$+(eK.length>0?", "+eK.join(", "):""):eK.join(", "),e0={...eJ.arg1,platform:l.platform.WEB,elements:null==eC?void 0:eC.map(e=>e.id).sort().join(", "),elements_count:null==eC?void 0:eC.length,image_guidance:eQ,image_guidance_count:(null==eL?void 0:eL.length)+(null==eK?void 0:eK.length),...r};return R(ej,eJ,{onSuccess:()=>{u((0,f.hk)())}},e0)},R=async(e,t,n,i)=>{let{onSuccess:o}=n;(0,M.j)(l.trackingCustomEvents.imageGenerationRequest.id,i),(0,m.n)({type:"state",category:"generateAiImage",message:"Submitting mutation",data:t.arg1,level:"debug"});try{var a,s;let n=await p.Z.mutate({mutation:O.Pgg,variables:t});o();let i=null==n?void 0:null===(s=n.data)||void 0===s?void 0:null===(a=s.sdGenerationJob)||void 0===a?void 0:a.generationId;if(!i)throw Error("Error on AI Image Generation. Could not deduplicate request (".concat(i,"). No returned id."));return{requestId:e,newGenerationId:i}}catch(t){return console.error("Error on generate-mutations: AI Image Generation",t),{error:t,requestId:e}}},G=async(e,t,n,i)=>{let{onSuccess:o}=n,a={...t,...i};(0,M.j)(l.trackingCustomEvents.motionGenerationRequest.id,a),(0,m.n)({type:"state",category:"generateAiMotion",message:"Submitting mutation",data:t,level:"debug"});try{var s,r;let n=await p.Z.mutate({mutation:O.t9d,variables:t});o();let i=null==n?void 0:null===(r=n.data)||void 0===r?void 0:null===(s=r.motionGenerationJob)||void 0===s?void 0:s.generationId;if(!i)throw Error("Error on AI Motion Generation. Could not deduplicate request (".concat(i,"). No returned id."));return{requestId:e,newGenerationId:i}}catch(t){return console.error("Error on generate-mutations: AI Motion Generation",t),{error:t,requestId:e}}};var E=n(1365);let A=async(e,t)=>{let n={},i={},o={},a=[],s=Array.from(new Set([...h.Sc,...e])),{data:r}=await p.Z.query({query:O.dyi,variables:{where:{id:{_in:s}}},fetchPolicy:"network-only"});for(let e of r.custom_models||[]){var g,d,m;let t=e.id;a.push(t);let s=(null===(g=e.generated_image)||void 0===g?void 0:g.url)||(null===(m=e.generations[0])||void 0===m?void 0:null===(d=m.generated_images[0])||void 0===d?void 0:d.url),r={...e,id:t,image:s,style:(0,S.gd)(t),motion:void 0===e.motion?null:e.motion,instancePrompt:e.instancePrompt||"",sdVersion:e.sdVersion};n[t]=r,(0,S.bo)(t)?i[t]=r:o[t]=r}for(let n of(o[l.LEONARDO_MOTION_MODEL_ID]&&(o[l.LEONARDO_MOTION_MODEL_ID].image="/img/motion-model.webp"),e))a.includes(n)||t(n);return[{...n,...h.wX},i,o]},L=(0,i.hg)("generation/updateModelInfoMaps",async(e,t)=>{try{let n=t.getState(),i=t.dispatch,[a,s,r]=await A([...e,...n.generation.lastModelIds,n.generation.settings.modelId].filter(e=>(0,o.Z)(e)),e=>{i((0,g.v8)(e)),e===n.generation.settings.modelId&&i((0,g.ET)(P.Oz.modelId))});return{modelInfoMap:a,leoModelInfoMap:s,customModelInfoMap:r}}catch(e){throw console.error("Error in redux/generation/updateModelInfoMaps",e),Error("Error in redux/generation/updateModelInfoMaps")}}),N=(0,i.hg)("generation/genAiImage",async(e,t)=>{let{settings:n,flags:i,tokenData:o={}}=e,a=await y(n,i,t,o);return a.error&&console.error("Error in redux/generation/genAIImage: ".concat(a.error.message)),a}),C=(0,i.hg)("generation/setPremiumInitialSettings",async(e,t)=>{let n=t.getState(),i=t.dispatch;JSON.stringify(n.generation.settings)===JSON.stringify((0,P.CB)())&&e&&i(w(P.EL))}),w=(0,i.hg)("generation/setSettings",async(e,t)=>{let n=t.getState(),i=e;if((0,s.AT)(e)){let{updatedAlchemyTrialStateData:n,...o}=await (0,E.ef)(t,e);i={...i,...o},(0,E.SD)({thunkApi:t,alchemyTrialStateData:n})}return new a.Z({modelInfoMap:n.generation.modelInfo.modelInfoMap}).transform({currentSettings:n.generation.settings,nextSettings:i})}),V=(0,i.hg)("generation/remixSettings",async(e,t)=>{let n=t.getState(),i=(0,r.WO)(e,n.generation.settings),o=i;if((0,s.AT)(i)){let{updatedAlchemyTrialStateData:e,...n}=await (0,E.ef)(t,i);o={...i,...n},(0,E.SD)({thunkApi:t,alchemyTrialStateData:e})}return new a.Z({modelInfoMap:n.generation.modelInfo.modelInfoMap}).transform({currentSettings:i,nextSettings:o})})},20477:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(34036),o=n(1365),a=n(39554),s=n(10746);let r=(0,i.hg)("trials/updateAlchemyTrialState",async(e,t)=>{let{getState:n}=t,{user:i}=n();return"FREE"!==i.plan&&(0,o.CP)()?null:(await s.Z.query({query:a.xaI,fetchPolicy:"network-only"})).data.queryUserAlchemyTrial})}}]);