!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3c33c102-51a2-4f06-ac7a-92ec76070c19",e._sentryDebugIdIdentifier="sentry-dbid-3c33c102-51a2-4f06-ac7a-92ec76070c19")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7070],{47990:function(){},38497:function(){},77585:function(){},24730:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var i,r,a=n(75694),l=n(39554),o=n(41701);(i=r||(r={})).REQUESTING_INIT_IMAGE="REQUESTING_INIT_IMAGE",i.UPLOADING="UPLOADING",i.FINISHED="FINISHED",i.ERROR="ERROR";let s=e=>new Promise(t=>{let n=new Image;n.src=window.URL.createObjectURL(e),n.onload=()=>{t({width:n.width,height:n.height})}}),d=e=>new Promise((t,n)=>{let i=new FileReader;i.onload=e=>{e.target&&e.target.result?t(e.target.result):n("Failed to read the image as a Data URI.")},i.onerror=()=>{n("An error occurred while reading the image.")},i.readAsDataURL(e)});t.Z=e=>{let[t]=(0,a.D)(l.bok),n=(0,o.t)();return async i=>{var r,a,l,o,c,u;let g=await s(i),h=await d(i);e({state:"REQUESTING_INIT_IMAGE",dataUrl:h});let m=i.name.split(".").pop();if(!m){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE"};return e(t),t}let p=await t({variables:{arg1:{fileType:i.type,extension:m,...n.id&&{teamId:n.akUUID}}}});if(!(null===(a=p.data)||void 0===a?void 0:null===(r=a.uploadInitImage)||void 0===r?void 0:r.id)){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE",dataUrl:h};return e(t),t}let f=null===(o=p.data)||void 0===o?void 0:null===(l=o.uploadInitImage)||void 0===l?void 0:l.url,x=null===(u=p.data)||void 0===u?void 0:null===(c=u.uploadInitImage)||void 0===c?void 0:c.fields;if(!f||!x){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE",dataUrl:h};return e(t),t}let I=JSON.parse(x),C=new FormData;Object.entries({...I,file:i}).forEach(e=>{let[t,n]=e;C.append(t,n)}),e({state:"UPLOADING",uploadPercent:0,dataUrl:h});let E=new XMLHttpRequest,b=!1;E.upload.addEventListener("progress",function(t){if(t.loaded<=t.total){var n,i;let r=Math.round(t.loaded/t.total*100);if(null===(i=p.data)||void 0===i?void 0:null===(n=i.uploadInitImage)||void 0===n?void 0:n.id){if(b)return;e({state:"UPLOADING",uploadPercent:r,dataUrl:h})}}}),E.open("POST",f),E.send(C),E.upload.addEventListener("loadend",function(t){var n,r,a,l;b=!0,(null===(r=p.data)||void 0===r?void 0:null===(n=r.uploadInitImage)||void 0===n?void 0:n.id)&&e({state:"FINISHED",initImageId:null===(l=p.data)||void 0===l?void 0:null===(a=l.uploadInitImage)||void 0===a?void 0:a.id,dimensions:g,dataUrl:h,name:i.name})})}}},41274:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(57437),r=n(2265),a=n(39343),l=n(18779),o=n(67528),s=n(91082),d=n(25225),c=()=>({columnCount:s.j,[o.c.YOUR_UPLOADS]:{},[o.c.YOUR_GENERATIONS]:{generationTypeFilter:d.W.All,searchQuery:""},[o.c.COMMUNITY_FEED]:{galleryMode:o.s.TRENDING,generationTypeFilter:d.W.All,searchQuery:"",showNsfw:!1},[o.c.FOLLOWER_FEED]:{galleryMode:o.s.TRENDING,generationTypeFilter:d.W.All,searchQuery:"",showNsfw:!1},selectedImage:null,selectedImages:null}),u=n(2749),g=e=>{let{isOpen:t,onClose:n,onSelect:o,onSelectMultiple:s,title:d,personal:g,hideUploadsTab:h,multipleSelection:m=!1,isImageDimensionsRequired:p=!0,includeMotion:f=!1,excludeImageIds:x=[]}=e,I=c(),C=(0,r.useRef)(null),E=(0,a.cI)({defaultValues:I}),{reset:b}=E;return(0,r.useEffect)(()=>{t&&b()},[t,b]),(0,i.jsx)(u.u,{isCentered:!1,isOpen:t,size:"lg",onClose:n,finalFocusRef:C,ModalContentProps:{minHeight:{base:"calc(100vh - 6rem)",md:"calc(100vh - 2.5rem)"},minW:{base:"75vw",lg:"inherit"}},children:(0,i.jsx)(a.RV,{...E,children:(0,i.jsx)(l.E,{title:null!=d?d:"Select Image Input",personal:g,hideUploadsTab:h,multipleSelection:m,onSelect:o,onSelectMultiple:s,includeMotion:f,onClose:n,excludeImageIds:x,isImageDimensionsRequired:p})})})}},18779:function(e,t,n){"use strict";n.d(t,{G:function(){return r},E:function(){return td}});var i,r,a=n(57437),l=n(99240),o=n(40191),s=n(74340),d=n(14937),c=n(89386),u=n(64688),g=n(47512),h=n(2265),m=n(39343),p=n(6005),f=n(1371),x=n(52249),I=n(20408),C=n(19651),E=n(33682),b=n(47414),v=n(16829),j=n(66301),O=n(54163),w=n(75694),y=n(39554),R=n(75545),_=n(2146),k=n(24604),M=()=>{let e=(0,_.Z)(),t=(0,R.T)(),[n,i]=(0,w.D)(y.vDJ,{refetchQueries:["GetViewerUploads"]}),[r]=(0,w.D)(y.ISq),a=async i=>{var a;let l;try{let{data:e}=await r({variables:{input:{id:i}}});l=e}catch(t){return console.error(t),e({title:"Error",description:"We were unable to check if this image was in use by any existing generations. Please try again shortly.",type:_.N.error}),!1}if(!(null==l?void 0:null===(a=l.checkUploadForGenerations)||void 0===a?void 0:a.canDelete))return e({title:"Error",description:"It looks like this image is currently in use by a pending generation. Please try again shortly.",type:_.N.error}),!1;try{await n({variables:{id:i}})}catch(t){return console.error(t),e({title:"Error",description:"We were unable to delete this image. Please try again shortly.",type:_.N.error}),!1}return t((0,k.IS)(i)),!0};return{loading:i.loading,deleteInitImage:a}},D=n(17800),N=e=>{let{isOpen:t,onClose:n,initImageId:i}=e,{deleteInitImage:r,loading:l}=M(),s=async()=>{await r(i)&&n(!0)};return(0,a.jsxs)(p.u_,{isOpen:t,onClose:()=>n(!1),closeOnOverlayClick:!0,isCentered:!0,children:[(0,a.jsx)(f.Z,{}),(0,a.jsx)(x.h,{px:8,py:10,textAlign:"center",children:(0,a.jsx)(I.f,{children:(0,a.jsx)(C.M,{children:(0,a.jsxs)(d.g,{maxW:"calc(".concat(D.cM," * 39.125)"),children:[(0,a.jsx)(C.M,{mb:"calc(".concat(D.cM," * 0.9375)"),children:(0,a.jsx)(O.Z,{})}),(0,a.jsx)(E.X,{size:"lg",fontWeight:600,mb:"calc(".concat(D.cM," * 1.125)"),children:"Are you sure you want to delete this image?"}),(0,a.jsx)(d.g,{pt:8,mb:"calc(".concat(D.cM," * 2.75) !important"),color:"#FF8600",children:(0,a.jsx)(o.x,{children:"This image will be permanently deleted."})}),(0,a.jsxs)(c.U,{spacing:{base:"4",xs:"9"},justify:"center",width:"100%",children:[(0,a.jsx)(b.z,{py:4,width:"50%",variant:"outline",onClick:()=>n(!1),isDisabled:l,children:"Cancel"}),(0,a.jsx)(b.z,{isDisabled:l,onClick:s,py:4,width:"50%",variant:"solid",backgroundColor:j.DM.ORANGE,leftIcon:l?(0,a.jsx)(v.$,{w:4,h:4}):void 0,children:"Delete"})]})]})})})})]})},L=n(26185),S=n(67528),T=e=>{let{name:t,mode:n,label:i,icon:r}=e,{control:l}=(0,m.Gc)(),{field:o}=(0,m.bc)({name:t,control:l,rules:{required:!0}});return(0,a.jsx)(b.z,{variant:o.value===n?"gradient":"outline",onClick:()=>o.onChange(n),onBlur:o.onBlur,leftIcon:r,fontWeight:500,color:o.value===n?void 0:"var(--text-muted-600, #9094A6)",background:o.value===n?void 0:"#171717",fontSize:"sm",px:"5",flex:"1",children:i})},U=e=>(0,a.jsx)("svg",{width:"calc(".concat(D.cM," * 0.6875)"),height:"calc(".concat(D.cM," * 0.8750)"),viewBox:"0 0 11 14",fill:"currentcolor",...e,children:(0,a.jsx)("path",{d:"M10.25 8.33161C10.25 11.0883 8.00733 13.3316 5.25 13.3316C2.49267 13.3316 0.25 11.0883 0.25 8.33161C0.25 6.83295 0.677997 5.76561 1.68066 4.76228C1.87733 4.56494 2.1 4.3676 2.33067 4.1636C3.27467 3.3276 4.25 2.46296 4.25 0.997629C4.25 0.874962 4.31801 0.761602 4.42601 0.703602C4.53401 0.645602 4.66534 0.651619 4.76801 0.720285C4.80801 0.746952 8.52666 3.2956 6.62 7.67426C7.06733 7.42426 7.60267 7.01426 7.93134 6.37759C8.142 5.96959 8.24933 5.50563 8.24933 4.99763C8.24933 4.8623 8.33133 4.74029 8.45667 4.68895C8.58067 4.63762 8.72533 4.66695 8.82066 4.76362C9.72933 5.68695 10.25 6.98761 10.25 8.33161Z"})}),F=n(6353),A=e=>(0,a.jsxs)(F.J,{width:"1.0625rem",height:4,viewBox:"0 0 17 16",stroke:"currentcolor",...e,children:[(0,a.jsx)("path",{d:"M2.25195 8H4.05215",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12.4556 8H14.2558",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.25049 14.0033V12.2031",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.25049 3.8002V2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12.5096 12.2615L11.1895 10.9414",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M5.30891 5.06233L3.98877 3.74219",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12.5096 3.74219L11.1895 5.06233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M5.30891 10.9414L3.98877 12.2615",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),G=e=>(0,a.jsxs)("svg",{width:"calc(".concat(D.cM," * 1.0625)"),height:"calc(".concat(D.cM," * 1)"),viewBox:"0 0 17 16",fill:"none",stroke:"currentcolor",...e,children:[(0,a.jsx)("path",{d:"M13.4658 9.21962C13.0877 12.8863 12.4867 13.4974 8.62763 13.4974C4.47172 13.4974 4.01625 12.5807 3.78951 9.21962C3.62462 6.77517 3.75904 6.16406 8.62764 6.16406C13.5198 6.16406 13.6969 6.97782 13.4658 9.21962Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M5.58594 4.33594H11.697",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M7.41406 2.5H9.85851",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),W=e=>{let{name:t}=e;return(0,a.jsxs)(L.h,{isAttached:!0,minWidth:"md",display:"flex",children:[(0,a.jsx)(T,{name:t,mode:S.s.TRENDING,label:"Trending",icon:(0,a.jsx)(U,{})}),(0,a.jsx)(T,{name:t,mode:S.s.NEW,label:"New",icon:(0,a.jsx)(A,{})}),(0,a.jsx)(T,{name:t,mode:S.s.TOP,label:"Top",icon:(0,a.jsx)(G,{})})]})},P=e=>{let{name:t,label:n,value:i}=e,{control:r}=(0,m.Gc)(),{field:l}=(0,m.bc)({name:t,control:r,rules:{required:!0}});return(0,a.jsx)(b.z,{variant:l.value===i?"gradient":"outline",onClick:()=>l.onChange(i),fontWeight:500,color:l.value===i?void 0:"var(--text-muted-600, #9094A6)",background:l.value===i?void 0:"#171717",fontSize:"sm",px:"5",flex:"1",children:n})},Z=n(25225),H=e=>{let{name:t,includeMotion:n,...i}=e;return(0,a.jsxs)(L.h,{isAttached:!0,minWidth:"60",display:"flex",...i,children:[(0,a.jsx)(P,{name:t,value:Z.W.All,label:"All"}),(0,a.jsx)(P,{name:t,value:Z.W.Upscaled,label:"Upscaled"}),n&&(0,a.jsx)(P,{name:t,value:Z.W.Motion,label:"Motion"})]})},Y=n(61493),V=n(81460),q=n(82450),B=n(35064),z=()=>{let e=(0,q.S)({base:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl"},{ssr:!1});return B.I[e]},Q=n(314),J=n(98006),K=n(12256),X=e=>{let{name:t}=e,{control:n}=(0,m.Gc)(),{field:i}=(0,m.bc)({name:t,control:n,rules:{required:!0}}),r=z();return 1===r?null:(0,a.jsx)(l.k,{display:{base:"none",sm:"flex"},justifyContent:{base:"space-between",md:"space-between",lg:"flex-end"},alignItems:{base:"flex-start",lg:"center"},gap:3,flexDirection:{base:"row",sm:"row"},children:(0,a.jsxs)(l.k,{gap:{base:1,sm:3},alignItems:"center",children:[(0,a.jsx)(K.Z,{color:"#494E5B"}),(0,a.jsx)(Y.h,{variant:"link",icon:(0,a.jsx)(Q.Z,{}),_hover:{transform:"scale(1.17)"},"aria-label":"Decrease columns",onClick:()=>i.onChange(Math.max(i.value-1,0))}),(0,a.jsxs)(V.iR,{width:36,step:1,min:1,max:r,value:i.value,onChange:i.onChange,"aria-label":"Gallery Columns",children:[(0,a.jsx)(V.Uj,{height:"100%",rounded:"full",children:(0,a.jsx)(V.Ms,{})}),(0,a.jsx)(V.gs,{})]}),(0,a.jsx)(Y.h,{variant:"link",icon:(0,a.jsx)(J.Z,{}),_hover:{transform:"scale(1.17)"},"aria-label":"Increase columns",onClick:()=>i.onChange(Math.min(i.value+1,r))})]})})},$=n(34437),ee=n(90371),et=n(44379),en=n(30505),ei=e=>{let{name:t,isDisabled:n}=e,{control:i}=(0,m.Gc)(),{field:r}=(0,m.bc)({name:t,control:i,rules:{required:!0},disabled:n}),[o,s]=(0,h.useState)(r.value);return(0,a.jsxs)(l.k,{alignItems:"stretch",gap:"3",minWidth:"96",children:[(0,a.jsxs)($.B,{flex:"1",children:[(0,a.jsx)(ee.Z,{height:"100%",pointerEvents:"none",children:(0,a.jsx)(en.G4C,{fontSize:"calc(".concat(D.cM," * 1.125)"),strokeWidth:"0",fill:"#FFFFFF"})}),(0,a.jsx)(et.I,{type:"text",width:"100%",background:"var(--background-modals-normal-25, #171717)",rounded:"lg",px:"3.5",py:"1.5",height:"unset",placeholder:r.disabled?"Search is currently disabled":"Search prompts",fontSize:"sm",border:"none",_placeholder:{fontSize:"sm",color:"var(--base-grey-inactive-text, #9094A6)"},value:o,isDisabled:r.disabled,name:r.name,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&r.onChange(o)}})]}),(0,a.jsx)(b.z,{variant:"glow",width:"unset",fontWeight:500,fontSize:"sm",px:D.cM,onClick:()=>r.onChange(o),isDisabled:r.disabled,children:"Search"})]})},er=n(81409),ea=e=>{let{feedName:t}=e,{isSearchEnabled:n}=(0,er.V)();return(0,a.jsxs)(l.k,{flexDirection:{base:"row",md:"column"},flexWrap:"wrap",gap:3,pt:"6",children:[(0,a.jsxs)(l.k,{gap:{base:7,md:3},justifyContent:"space-between",alignItems:{base:"stretch",md:"center"},flexDirection:{base:"column",md:"row"},flexWrap:"wrap",flex:{base:1,md:void 0},children:[(0,a.jsx)(ei,{name:"".concat(t,".searchQuery"),isDisabled:!n}),(0,a.jsx)(W,{name:"".concat(t,".galleryMode")})]}),(0,a.jsxs)(l.k,{justifyContent:"space-between",alignItems:{base:"stretch",md:"center"},gap:{base:7,md:3},flexDirection:{base:"column",md:"row"},flex:{base:1,md:"initial"},flexWrap:"wrap",children:[(0,a.jsx)(l.k,{gap:"7",justifyContent:{base:"stretch",lg:"flex-start"},flex:{base:1,md:"initial"},children:(0,a.jsx)(H,{name:"".concat(t,".generationTypeFilter"),flex:{base:1,md:void 0}})}),(0,a.jsx)(X,{name:"columnCount"})]})]})},el=n(41701);let eo=e=>{let{isSelected:t,...n}=e;return(0,a.jsx)(l.k,{py:"3",borderBottomWidth:"sm",borderStyle:"solid",sx:{borderImage:t?"linear-gradient(81.02deg, #fa5560 -23.47%, #b14bf4 45.52%, #4d91ff 114.8%) 1":void 0},borderColor:t?void 0:"transparent",_hover:{color:"#FFFFFF"},transition:"color 150ms linear, border-color 300ms linear",color:t?"#FFFFFF":"#9094A6",fontSize:"md",fontStyle:"normal",fontWeight:"700",cursor:"pointer",display:"inline-block",whiteSpace:"nowrap",...n})};var es=e=>{let{currentTab:t,setCurrentTab:n,personal:i=!1,uploadsDisabled:r=!1}=e,o=(0,el.t)();return i&&[S.c.COMMUNITY_FEED,S.c.FOLLOWER_FEED].includes(t)&&n(S.c.YOUR_UPLOADS),(0,a.jsx)(l.k,{mx:-7,overflow:"auto",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:(0,a.jsxs)(l.k,{gap:"7",px:7,borderBottomWidth:t!==S.c.YOUR_UPLOADS?"px":0,borderBottomStyle:"solid",borderBottomColor:"border.grey",flex:"1",children:[!r&&(0,a.jsx)(eo,{isSelected:t===S.c.YOUR_UPLOADS,onClick:()=>n(S.c.YOUR_UPLOADS),children:"Your Uploads"}),(0,a.jsx)(eo,{isSelected:t===S.c.YOUR_GENERATIONS,onClick:()=>n(S.c.YOUR_GENERATIONS),children:"Your Generations"}),o.id&&(0,a.jsx)(eo,{isSelected:t===S.c.TEAM_GENERATIONS,onClick:()=>n(S.c.TEAM_GENERATIONS),children:"Team Generations"}),!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo,{isSelected:t===S.c.COMMUNITY_FEED,onClick:()=>n(S.c.COMMUNITY_FEED),children:"Community Feed"}),(0,a.jsx)(eo,{isSelected:t===S.c.FOLLOWER_FEED,onClick:()=>n(S.c.FOLLOWER_FEED),children:"Follower Feed"})]})]})})},ed=n(80230),ec=n(91082),eu=(e,t)=>{let[n,i]=(0,h.useState)([]);return(0,h.useEffect)(()=>{let n=Array.from({length:t}).map(()=>[]);i(e.reduce((e,n,i)=>(e[i%t].push(n),e),n))},[e,t]),n},eg=n(26387),eh=n(81368),em=n(62686),ep=n(14982);let ef=(0,eg.chakra)(em.E.div,{shouldForwardProp:e=>(0,ep.Z)(e)||(0,eh.shouldForwardProp)(e)});var ex=e=>{let{subtitle:t,...n}=e;return(0,a.jsxs)(ef,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:7,gap:"3",minHeight:"400px",...n,children:[(0,a.jsx)(o.x,{fontWeight:500,fontSize:"2xl",children:"What's going on? It's empty here"}),(0,a.jsx)(o.x,{fontWeight:500,fontSize:D.cM,color:"var(--base-grey-inactive-text, #9094A6);",children:t})]})},eI=n(28038),eC=n(14409),eE=n(10878),eb=n(226),ev=n(79494),ej=n(16463),eO=n(24730),ew=n(52070),ey=n(51668),eR=n(50371),e_=n(25092),ek=n(91734),eM=n(8997),eD=e=>{let{isDisabled:t,addNewImage:n}=e,i=(0,ej.useRouter)(),[r,s]=(0,h.useState)(!1),[d,c]=(0,h.useState)(0),g=(0,R.T)(),[m,p]=(0,h.useState)(!1),{isMotionInitUploadEnabled:f}=(0,er.V)(),x=t&&!1===f,I=(0,eO.Z)(e=>{e.state===eO.P.REQUESTING_INIT_IMAGE?(g((0,k.Zv)()),m||p(!0)):e.state===eO.P.UPLOADING?c(e.uploadPercent):e.state===eO.P.ERROR?(g((0,k.aO)()),p(!1),c(0)):e.state===eO.P.FINISHED&&(g((0,k.aO)()),(0,eM.j)(u.trackingCustomEvents.imageGuidanceImageUpload.id),p(!1),n({initImageType:y.esw.Uploaded,initImageId:e.initImageId,alt:e.name,dimensions:e.dimensions,base64ImageUri:e.dataUrl}))}),C=async e=>{try{if(0===e.length)throw Error("no files provided to upload handler");await I(e[0])}catch(e){s(!0)}},E=()=>{i.push(ek.l.BUY)};return(0,a.jsx)(e_.Z,{disabled:t,onDrop:C,openDialogOnClick:!0,children:e=>{let{isDragActive:t,isDragReject:n}=e;return(0,a.jsxs)(eI.J,{isOpen:n||r,children:[(0,a.jsx)(eC.x,{children:(0,a.jsxs)(b.z,{variant:"outline",display:"flex",rounded:"lg",borderStyle:"solid",width:"100%",height:"100%",borderWidth:"px",transition:"all 0.2s ease-in-out",borderColor:t?void 0:"old.greyblue",background:"background.darkblue",_hover:{background:"old.greyblue"},px:2,py:16,justifyContent:"center",alignItems:"center",gap:"2.5",flexDir:"column",flex:1,cursor:"pointer",isDisabled:m,onClick:x?E:void 0,mb:4,children:[m?(0,a.jsxs)(l.k,{width:"2.1875rem",height:"2.1875rem",justifyContent:"center",alignItems:"center",position:"relative",children:[100!==d&&(0,a.jsx)(o.x,{fontWeight:700,fontSize:"2xs",children:d.toString()+"%"}),(0,a.jsx)(ew.Z,{position:"absolute",top:"0",width:"2.1875rem",height:"2.1875rem"})]}):(0,a.jsx)(eR.Z,{width:x?8:"2.875rem",height:x?8:"2.875rem"}),(0,a.jsx)(l.k,{justifyContent:"center",alignItems:"center",flexDir:"column",gap:1,children:x?(0,a.jsx)(o.x,{variant:"gradient",fontSize:"lg",children:"Upgrade your plan to bring these uploads to Motion"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.x,{fontSize:"sm",children:[(0,a.jsx)(o.x,{as:"span",fontWeight:"bold",children:"Upload an image"})," ","to get started"]}),(0,a.jsx)(o.x,{color:"#979797",fontSize:"xs",fontWeight:400,children:"PNG, JPG or WEBP up to 5MB"})]})})]})}),(0,a.jsxs)(eE.y,{background:"alert",children:[(0,a.jsx)(eb.Q,{bg:"alert"}),(0,a.jsx)(ev.b,{alignItems:"center",children:(0,a.jsxs)(l.k,{alignItems:"center",gap:2,children:[(0,a.jsx)(ey.Z,{width:5,height:5,color:"#FFFFFF"}),(0,a.jsx)(o.x,{children:r?"Error uploading image":"Unsupported file type or size"})]})})]})]})}})},eN=n(15151),eL=n(64973),eS=n(48089),eT=n(34587);let eU=(e,t,n)=>{if(e*t<=n)return{width:e,height:t};let i=e/t,r=Math.sqrt(n*i);return{width:Math.floor(r),height:Math.floor(r/i)}},eF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=document.createElement("canvas"),i=n.getContext("2d");if(null===i)throw Error("Error In SelectImageThumbnail: Context was null when requesting canvas data URI");let r=eU(e.naturalWidth,e.naturalHeight,t);return n.width=r.width,n.height=r.height,i.drawImage(e,0,0,n.width,n.height),n.toDataURL()},eA=(0,eN.forwardRef)((e,t)=>{var n;let{image:i,isDisabled:r,multipleSelection:o,selectedImages:d,setSelectedImages:c,isImageDimensionsRequired:u=!0,...g}=e,{setValue:p,watch:f}=(0,m.Gc)(),[x,I]=(0,h.useState)(!1),C=f("selectedImage"),E=!!(C&&i.initImageId===C.initImageId),b=!!(o&&(null==d?void 0:d.find(e=>e.initImageId==i.initImageId))),v=E||b,O=(null===(n=i.generation)||void 0===n?void 0:n.transparency)!==y.T7i.Disabled,[w,R]=(0,h.useState)(!1),_=(0,h.useRef)(null),{getValues:k}=(0,m.Gc)(),M=k("YOUR_GENERATIONS.generationTypeFilter")===Z.W.Upscaled&&i.urlVariation||i.url,[D,N]=(0,h.useState)(M+eT.G3),L={background:"linear-gradient(black, black) padding-box, ".concat(v?"linear-gradient(to bottom, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)":"transparent"," border-box")},{motionProps:S,boxProps:T}=Object.keys(g).reduce((e,t)=>((0,ep.Z)(t)?e.motionProps[t]=g[t]:e.boxProps[t]=g[t],e),{boxProps:{},motionProps:{}});return w||(L={backgroundColor:"#2D2D2D",backgroundImage:"url('".concat(eT.r0,"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%",filter:"grayscale(100%)",minHeight:i.aspectRatio?void 0:64,opacity:.2,style:{aspectRatio:i.aspectRatio?i.aspectRatio:"auto"}}),(0,a.jsx)(em.E.div,{...S,children:(0,a.jsxs)(s.xu,{ref:t,display:"flex",justifyContent:"center",borderRadius:"2xl",borderStyle:"solid",borderWidth:"md",borderColor:w?"transparent":"#2D2D2D",_hover:w?{background:"linear-gradient(black, black) padding-box, linear-gradient(to bottom, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%) border-box"}:{},userSelect:"none",cursor:w?"pointer":void 0,position:"relative",transition:"opacity 100ms linear",onClick:()=>{let e=_.current;if(r||!w||!e)return;if(v){p("selectedImage",null),null==c||c(e=>e.filter(e=>e.initImageId!==i.initImageId)),I(!1);return}let t=i.url,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={...i,...e};n&&n!==t||(p("selectedImage",r),null==c||c(t=>[...t,{...i,...e}]))},a={base64ImageUri:eF(e,589824)};if(n(a),u){let e=new Image;e.src=t;let r=setInterval(()=>{if(e.naturalWidth){if(clearInterval(r),v)p("selectedImage",null),null==c||c(e=>e.filter(e=>e.initImageId!==i.initImageId));else{let t={...a,dimensions:{width:e.naturalWidth,height:e.naturalHeight}};null==c||c(e=>[...e,{...i,...t}]),I(!0),n(t,e.src)}}},10)}},...L,...T,children:[""!==M&&(0,a.jsx)(eL.E,{ref:_,alt:i.alt,src:D,onLoad:()=>R(!0),onError:()=>N(M),opacity:w?1:0,transition:"opacity 500ms linear",backgroundColor:"#2D2D2D",...O&&j.CO,crossOrigin:"anonymous",borderRadius:"2xl",style:{aspectRatio:i.aspectRatio?i.aspectRatio:"auto"}},M),(0,a.jsx)(l.k,{as:em.E.div,opacity:v?"1":"0",_hover:w?{opacity:v?"1":"0.7"}:{opacity:0},position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.65)",borderRadius:"2xl",transition:"opacity 100ms linear",justifyContent:"center",alignItems:"center",children:v&&(0,a.jsx)(l.k,{background:j.HW.PURPLE_ONE,rounded:"50%",width:14,height:14,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(eS.Z,{width:10,height:10})})})]},i.initImageId)})});var eG=n(16170);let eW=Array.from({length:1},(e,t)=>({alt:"",aspectRatio:Math.max(.75,1.75*Math.random()),initImageId:"skeleton-image-"+t,initImageType:y.esw.Generated,url:""})),eP={margin:"0 0 1rem",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"}},eZ={[S.c.YOUR_UPLOADS]:"The images you upload will appear here.",[S.c.COMMUNITY_FEED]:"Generated images from the Leonardo.Ai community will appear here.",[S.c.YOUR_GENERATIONS]:"Your generated images will appear here.",[S.c.TEAM_GENERATIONS]:"Team generated images will appear here.",[S.c.FOLLOWER_FEED]:"Generated images from accounts you follow will appear here."};var eH=e=>{let{images:t,loading:n,currentTab:i,hideUploadsTab:r,multipleSelection:o,isImageDimensionsRequired:s=!0,fetchNextPage:d,selectedImages:c,setSelectedImages:u,onAddNewImage:p}=e,{watch:f}=(0,m.Gc)(),x=(0,h.useRef)(null),I=z(),C=r&&i===S.c.YOUR_UPLOADS,E=f("columnCount"),b=Math.min(I,i===S.c.YOUR_UPLOADS?4:E)||1,v=eu(t,b);return((0,eG.S)({target:x,onIntersectEnter:()=>{n||d()}}),n||0!==t.length)?(0,a.jsx)(ed.r,{gridTemplateColumns:"repeat(".concat(b,", minmax(0, 1fr))"),gap:"4",children:(0,a.jsx)(g.M,{children:v.map((e,n)=>(0,a.jsxs)(l.k,{flexDir:"column",children:[i===S.c.YOUR_UPLOADS&&0===n&&(0,a.jsx)(eD,{addNewImage:p,isDisabled:r}),e.map((t,n)=>(0,a.jsx)(eA,{ref:n===e.length-1?x:void 0,image:t,isDisabled:C,multipleSelection:o,setSelectedImages:u,selectedImages:c,cursor:C?"not-allowed":"pointer",isImageDimensionsRequired:s,...eP},t.initImageId)),t.length%ec.w==0&&eW.map(e=>(0,a.jsx)(eA,{image:e,cursor:"default",multipleSelection:o,isImageDimensionsRequired:!1,...eP},e.initImageId))]},n))})},i):(0,a.jsx)(ex,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},subtitle:eZ[i]},"select-image-modal-no-results-".concat(i))},eY=e=>{let{includeMotion:t}=e;return(0,a.jsx)(l.k,{flexDirection:"column",gap:3,pt:"6",children:(0,a.jsxs)(l.k,{justifyContent:"space-between",alignItems:{base:"stretch",lg:"stretch"},flexDirection:{base:"column",lg:"row"},flexWrap:"wrap",gap:{base:7,lg:3},children:[(0,a.jsxs)(l.k,{gap:"7",flex:{base:1,lg:void 0},alignItems:{base:"stretch",lg:"center"},justifyContent:{base:"center",lg:"flex-start"},flexDirection:{base:"column",lg:"row"},flexWrap:"wrap",children:[(0,a.jsx)(ei,{name:"YOUR_GENERATIONS.searchQuery"}),(0,a.jsx)(H,{name:"YOUR_GENERATIONS.generationTypeFilter",includeMotion:t})]}),(0,a.jsx)(X,{name:"columnCount"})]})})},eV=n(16292),eq=n(17090),eB=n(15162),ez=n.n(eB),eQ=n(90374),eJ=n.n(eQ),eK=n(47590),eX=n(63432);let e$=e=>eJ()(((null==e?void 0:e.generated_images)||[]).filter(e=>!!e.generation).map(e=>{var t,n,i;let r;let a=null==e?void 0:e.generation,{width:l,height:o}=a?(0,eK.I)(a):{width:0,height:0};a&&(r="".concat(l," / ").concat(o));let s=e.generated_image_variation_generics,d=(null==s?void 0:s[0])?(0,eX.YJ)(s):void 0;return{belongsToUserId:null===(t=e.user)||void 0===t?void 0:t.id,initImageId:e.id,initVariationId:null==d?void 0:d.id,initImageType:y.esw.Generated,url:e.url,urlVariation:null==d?void 0:d.url,alt:null!==(i=null==a?void 0:a.prompt)&&void 0!==i?i:"Generation by ".concat((null===(n=e.user)||void 0===n?void 0:n.username)||"Leonardo User"),aspectRatio:r,dimensions:{width:l,height:o}}}),"initImageId");var e0=n(1460);let e1=e=>{let{galleryMode:t,generationTypeFilter:n,searchQuery:i,showNsfw:r}=e,a=n===Z.W.Upscaled?eT._L:{},l=n===Z.W.Motion?eT.N5:eT.FN,o={};o=t===S.s.TOP?eT.Qy:t===S.s.TRENDING?eT.Bg:eT.ar;let s=i&&i.trim().length>0?{prompt:{_ilike:"%".concat(i,"%")}}:{},d={generation:{status:{_eq:eq.job_status.COMPLETE},canvasRequest:{_eq:!1},...s,public:{_eq:!0},...eT.G6}};return ez()({},r?{}:eT.Zf,d,a,l,o)};var e3=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,m.qo)({name:S.c.COMMUNITY_FEED,control:i});let{getValues:r}=(0,m.Gc)(),a=(0,e0.Z)(),l=r("COMMUNITY_FEED.searchQuery"),o=r("COMMUNITY_FEED.showNsfw"),s=r("COMMUNITY_FEED.generationTypeFilter"),d=r("COMMUNITY_FEED.galleryMode"),c=n!==S.c.COMMUNITY_FEED,u={offset:0,limit:t,userId:a,where:e1({galleryMode:d,generationTypeFilter:s,searchQuery:l,showNsfw:o}),order_by:d===S.s.NEW?[{createdAt:y.Lqo.Desc}]:[{trendingScore:y.Lqo.Desc},{createdAt:y.Lqo.Desc}]},{data:g,loading:p,fetchMore:f}=(0,eV.a)(y.IKL,{variables:u,skip:c,fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),x=(0,h.useMemo)(()=>c?[]:e$(g),[g,c]),I=(0,h.useCallback)(()=>{p||f({variables:{offset:null==g?void 0:g.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:eJ()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==g?void 0:g.generated_images.length,p,f]);return{images:x,loading:p,fetchNextPage:I,skipped:c}};let e5=e=>{let{galleryMode:t,generationTypeFilter:n,searchQuery:i,showNsfw:r,userId:a}=e,l=n===Z.W.Upscaled?eT._L:{},o=n===Z.W.Motion?eT.N5:eT.FN,s={};s=t===S.s.TOP?eT.Qy:t===S.s.TRENDING?eT.Bg:eT.ar;let d=i&&i.trim().length>0?{prompt:{_ilike:"%".concat(i,"%")}}:{},c={generation:{public:{_eq:!0},status:{_eq:eq.job_status.COMPLETE},canvasRequest:{_eq:!1},...d,...eT.G6},user:{followsByFollowingid:{followerId:{_eq:a}}}};return ez()({},r?{}:eT.Zf,c,l,o,s)};var e2=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,m.qo)({name:S.c.FOLLOWER_FEED,control:i});let{getValues:r}=(0,m.Gc)(),a=(0,e0.Z)(),l=r("FOLLOWER_FEED.searchQuery"),o=r("FOLLOWER_FEED.showNsfw"),s=r("FOLLOWER_FEED.generationTypeFilter"),d=r("FOLLOWER_FEED.galleryMode"),c=n!==S.c.FOLLOWER_FEED,{data:u,loading:g,fetchMore:p}=(0,eV.a)(y.IKL,{variables:{offset:0,limit:t,where:e5({generationTypeFilter:s,searchQuery:l,showNsfw:o,galleryMode:d,userId:a}),order_by:d===S.s.NEW?[{createdAt:y.Lqo.Desc}]:[{trendingScore:y.Lqo.Desc},{createdAt:y.Lqo.Desc}]},skip:c,fetchPolicy:"network-only"}),f=(0,h.useCallback)(()=>{p({variables:{offset:null==u?void 0:u.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:eJ()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==u?void 0:u.generated_images.length,p]);return{images:(0,h.useMemo)(()=>c?[]:e$(u),[u,c]),loading:g,fetchNextPage:f,skipped:c}},e6=n(10943),e4=n(81210);let e7=e=>{let{generationTypeFilter:t,searchQuery:n,userId:i,teamAkUUID:r}=e,a=t===Z.W.Upscaled?eT._L:{},l=t===Z.W.Motion?eT.N5:eT.FN,o=n&&n.trim().length>0?{prompt:{_ilike:"%".concat(n,"%")}}:{},s={generation:{status:{_eq:eq.job_status.COMPLETE},canvasRequest:{_eq:!1},...e6.R,...o}},d={generation:{...(0,e4.GU)(r)}};return ez()({},s,a,l,d)};var e9=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,m.qo)({name:S.c.YOUR_GENERATIONS,control:i});let{getValues:r}=(0,m.Gc)(),[a,l]=(0,h.useState)(!0),{akUUID:o}=(0,el.t)(),s=n!==S.c.TEAM_GENERATIONS,d=(0,e0.Z)(),c=r("YOUR_GENERATIONS.searchQuery"),u=r("YOUR_GENERATIONS.generationTypeFilter"),{data:g,loading:p,fetchMore:f,refetch:x}=(0,eV.a)(y.IKL,{variables:{offset:0,limit:t,where:e7({generationTypeFilter:u,searchQuery:c,userId:d,teamAkUUID:o}),order_by:[{createdAt:y.Lqo.Desc}]},skip:s});(0,h.useEffect)(()=>{a&&(l(!1),x())},[a,x]);let I=(0,h.useCallback)(()=>{f({variables:{offset:null==g?void 0:g.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:eJ()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==g?void 0:g.generated_images.length,f]);return{images:(0,h.useMemo)(()=>s?[]:e$(g),[g,s]),loading:p,fetchNextPage:I,skipped:s}};let e8=e=>{let{generationTypeFilter:t,searchQuery:n,userId:i,teamAkUUID:r,fromDate:a}=e,l=t===Z.W.Upscaled?eT._L:{},o=t===Z.W.Motion?eT.N5:eT.FN,s=n&&n.trim().length>0?{prompt:{_ilike:"%".concat(n,"%")}}:{},d={userId:{_eq:i},generation:{status:{_eq:eq.job_status.COMPLETE},canvasRequest:{_eq:!1},...e6.R,...s}},c={...(0,e4.GU)(r)},u={createdAt:{_lt:a.current}};return ez()({},d,l,o,c,u)};var te=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,m.qo)({name:S.c.YOUR_GENERATIONS,control:i});let{getValues:r}=(0,m.Gc)(),[a,l]=(0,h.useState)(!0),o=(0,e0.Z)(),{akUUID:s}=(0,el.t)(),d=n!==S.c.YOUR_GENERATIONS,c=r("YOUR_GENERATIONS.searchQuery"),u=r("YOUR_GENERATIONS.generationTypeFilter"),g=(0,h.useRef)(new Date().toISOString()),{data:p,loading:f,fetchMore:x,refetch:I}=(0,eV.a)(y.IKL,{variables:{offset:0,limit:t,where:e8({generationTypeFilter:u,searchQuery:c,userId:o,teamAkUUID:s,fromDate:g}),order_by:[{createdAt:y.Lqo.Desc}]},skip:d});(0,h.useEffect)(()=>{a&&(l(!1),I())},[a,I]);let C=(0,h.useCallback)(()=>{x({variables:{offset:null==p?void 0:p.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:eJ()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==p?void 0:p.generated_images.length,x]);return{images:(0,h.useMemo)(()=>d?[]:e$(p),[p,d]),loading:f,fetchNextPage:C,skipped:d}},tt=e=>{let{pageSize:t,currentTab:n}=e,i=(0,e0.Z)(),r=(0,el.t)(),a=n!==S.c.YOUR_UPLOADS,{data:l,loading:o,fetchMore:s}=(0,eV.a)(y.WIj,{variables:{where:{userId:{_eq:i},...(0,e4.mQ)(r.id)},limit:t},skip:a,fetchPolicy:"network-only"}),d=(0,h.useCallback)(()=>{s({variables:{offset:null==l?void 0:l.init_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{init_images:eJ()([...e.init_images||[],...n.init_images||[]],"id")}):e}})},[null==l?void 0:l.init_images.length,s]);return{images:(0,h.useMemo)(()=>a?[]:eJ()(((null==l?void 0:l.init_images)||[]).map(e=>({initImageId:e.id,initImageType:y.esw.Uploaded,url:e.url,alt:""})),"initImageId"),[l,a]),loading:o,fetchNextPage:d,skipped:a}},tn=e=>{let{pageSize:t,currentTab:n,control:i}=e;return[tt({pageSize:t,currentTab:n}),te({pageSize:t,currentTab:n,control:i}),e9({pageSize:t,currentTab:n,control:i}),e3({pageSize:t,currentTab:n,control:i}),e2({pageSize:t,currentTab:n,control:i})].find(e=>!1===e.skipped)||{images:[],fetchNextPage:()=>{},loading:!1}},ti=n(85222),tr=n(1726),ta=n(29790),tl=n(18076),to=n(58638);let ts=Array.from({length:ec.w},(e,t)=>({alt:"",aspectRatio:Math.max(.75,1.75*Math.random()),initImageId:"skeleton-image-"+t,initImageType:y.esw.Generated,url:""}));(i=r||(r={})).CONFIRM="confirm",i.CANCEL="cancel",i.DROPZONE="dropzone";let td=e=>{var t;let{onSelect:n,onSelectMultiple:i,onClose:r,title:p,personal:f,hideUploadsTab:x,multipleSelection:C,includeMotion:E,excludeImageIds:b,isImageDimensionsRequired:v}=e,{control:j,setValue:O,watch:w}=(0,m.Gc)(),[R,_]=(0,h.useState)(x?S.c.YOUR_GENERATIONS:S.c.YOUR_UPLOADS),[k,M]=(0,h.useState)([]),[D,L]=(0,h.useState)(!1),{images:T,fetchNextPage:U,loading:F}=tn({pageSize:ec.w,currentTab:R,control:j}),A=T.filter(e=>!(null!=b?b:[]).includes(e.initImageId)),G=(0,h.useCallback)(e=>{let{currentTarget:t}=e;t&&Math.ceil(t.clientHeight+t.scrollTop)>=t.scrollHeight&&U()},[U]),W=w("selectedImage"),P=W&&W.initImageType===y.esw.Uploaded,Z=()=>C?0===(k||[]).length:null===W;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ti.x,{...R===S.c.YOUR_UPLOADS&&{pb:0},children:[(0,a.jsxs)(l.k,{alignItems:"center",justifyContent:"space-between",flexDir:"row",flex:1,mb:4,children:[(0,a.jsx)(l.k,{alignItems:"center",children:(0,a.jsx)(o.x,{fontSize:"2xl",fontWeight:700,color:"white",children:p})}),(0,a.jsx)(tl.L,{dataTrackingId:u.trackingElements.selectImageInputModalClose.id})]}),(0,a.jsx)(es,{setCurrentTab:_,currentTab:R,personal:f,uploadsDisabled:x}),(R===S.c.YOUR_GENERATIONS||R===S.c.TEAM_GENERATIONS)&&(0,a.jsx)(eY,{includeMotion:E}),(R===S.c.FOLLOWER_FEED||R===S.c.COMMUNITY_FEED)&&(0,a.jsx)(ea,{feedName:R})]}),(0,a.jsx)(I.f,{sx:{scrollbarGutter:"stable"},onScroll:G,children:(0,a.jsx)(s.xu,{minHeight:"md",children:(0,a.jsx)(g.M,{children:(0,a.jsx)(eH,{images:0===A.length?ts:A,loading:F,currentTab:R,control:j,hideUploadsTab:x,fetchNextPage:U,multipleSelection:C,selectedImages:k,setSelectedImages:M,isImageDimensionsRequired:v,onAddNewImage:e=>{n&&n(e),r("dropzone")}})})})}),(0,a.jsx)(tr.m,{children:(0,a.jsxs)(d.g,{gap:4,children:[C&&(0,a.jsxs)(c.U,{gap:1,children:[(0,a.jsx)(o.x,{fontSize:"sm",color:"loud",fontWeight:"bold",children:(null==k?void 0:k.length)||0}),(0,a.jsxs)(o.x,{fontSize:"sm",color:"loud",children:[(null==k?void 0:k.length)===1?"is":"are"," selected"]})]}),(0,a.jsxs)(c.U,{children:[(0,a.jsx)(to.s,{dataTrackingId:u.trackingElements.selectImageInputModalCancel.id,w:{base:"auto",md:"80"},h:"12",variant:"outline",fontWeight:700,onClick:()=>r("cancel"),children:"Cancel"}),(0,a.jsx)(to.s,{dataTrackingId:u.trackingElements.selectImageInputModalConfirm.id,w:{base:"auto",md:"80"},h:"12",variant:"gradient",fontWeight:700,isDisabled:Z(),isLoading:!Z()&&!!v&&(C&&k?k.some(e=>{var t;return!(null===(t=e.dimensions)||void 0===t?void 0:t.width)}):!!W&&(null===(t=W.dimensions)||void 0===t||!t.width)),loadingText:"Loading..",onClick:()=>{W&&(C&&i?i(k||[]):n&&n(W),r("confirm"))},children:"Confirm"}),R===S.c.YOUR_UPLOADS&&(0,a.jsx)(l.k,{position:"absolute",right:"2",children:(0,a.jsx)(to.s,{dataTrackingId:u.trackingElements.selectImageInputModalDeleteImage.id,w:"auto",h:"12",px:0,variant:"outline",fontWeight:700,onClick:()=>L(!0),isDisabled:null===W,justifySelf:"flex-end",children:(0,a.jsx)(ta.Z,{})})})]})]})}),D&&P&&(0,a.jsx)(N,{isOpen:D,onClose:e=>{e&&O("selectedImage",null),L(!1)},initImageId:W.initImageId})]})}},91082:function(e,t,n){"use strict";n.d(t,{j:function(){return i},w:function(){return r}});let i=4,r=50},67528:function(e,t,n){"use strict";var i,r,a,l,o,s;n.d(t,{c:function(){return i},s:function(){return r}}),(l=i||(i={})).YOUR_UPLOADS="YOUR_UPLOADS",l.YOUR_GENERATIONS="YOUR_GENERATIONS",l.COMMUNITY_FEED="COMMUNITY_FEED",l.FOLLOWER_FEED="FOLLOWER_FEED",l.TEAM_GENERATIONS="TEAM_GENERATIONS",(o=r||(r={})).TRENDING="TRENDING",o.NEW="NEW",o.TOP="TOP",(s=a||(a={}))[s.SKIPPED=0]="SKIPPED",s[s.LOADING=1]="LOADING",s[s.LOADED=2]="LOADED",s[s.ERROR=3]="ERROR"},52070:function(e,t,n){"use strict";var i=n(48646),r=n(57437),a=n(63098),l=n(82555);function o(){let e=(0,i._)(["\nfrom { transform: rotate(-360deg); }\nto { transform: rotate(360deg); }\n"]);return o=function(){return e},e}let s=(0,a.F4)(o());t.Z=e=>(0,r.jsx)(l.Z,{width:5,height:5,animation:"".concat(s," 1.2s infinite linear"),...e})},35899:function(e,t,n){"use strict";n.r(t),n.d(t,{DropdownItem:function(){return a}});var i=n(57437),r=n(39467);let a=e=>{let{children:t,...n}=e;return(0,i.jsx)(r.s,{bgColor:"#0B0F17",whiteSpace:"nowrap",color:"white",px:2.5,fontSize:"sm",h:9,_hover:{bgColor:"#101622"},...n,children:t})}},64838:function(e,t,n){"use strict";var i=n(57437),r=n(74340),a=n(98312);t.Z=e=>{let{onDrop:t,onError:n,disabled:l,children:o,fileDialogRef:s,openDialogOnClick:d,acceptedFileFormats:c,additionalValidation:u,maxNumberOfFiles:g,maxFileSize:h,...m}=e,p=(0,a.uI)({onDrop:t,onError:n,noClick:!d,noKeyboard:!d,disabled:l||!t,accept:c,maxFiles:g,validator:async e=>e instanceof DataTransferItem?null:e.size>h?{code:"file-too-large",message:"The image dropped was not able to be validated"}:(u&&await u(e),null)});return s&&s.current!==p.open&&(s.current=p.open),(0,i.jsxs)(r.xu,{position:"relative",...m,children:[(0,i.jsx)(r.xu,{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:l?"rgba(0, 0, 0, 0.5)":void 0,pointerEvents:"none"}),(0,i.jsxs)(r.xu,{...p.getRootProps(),...m,children:[(0,i.jsx)("input",{...p.getInputProps()}),o(p)]})]})}},21380:function(e,t,n){"use strict";var i=n(57437),r=n(6353);t.Z=e=>(0,i.jsx)(r.J,{width:4,height:4,viewBox:"0 0 16 16",fill:"primary.purple",...e,children:(0,i.jsx)("path",{d:"M5 12.0067C5 12.4933 5.14667 12.9333 5.42 13.3133C3.63334 13.2 2 12.5467 2 11.34V10.7533C2.7 11.3 3.73333 11.6667 5 11.7867V12.0067ZM5.02665 9.29334C5.01999 9.3 5.02002 9.30665 5.02002 9.31331C5.00669 9.37998 5 9.44668 5 9.51335V10.7867C3.38667 10.6 2 9.96001 2 8.84668V8.26001C2.7 8.81334 3.74002 9.18 5.02002 9.29334H5.02665V9.29334ZM7.62667 6.85335C6.61334 7.16669 5.82001 7.67999 5.38 8.31999C3.60667 8.20665 2 7.55335 2 6.35335V5.89998C2.87333 6.58665 4.27333 6.98665 6 6.98665C6.58 6.98665 7.12667 6.94002 7.62667 6.85335ZM10 5.89998V6.35335C10 6.41335 9.99332 6.46669 9.98665 6.52002C9.45999 6.52002 8.95999 6.56665 8.49333 6.64665C9.09333 6.46665 9.6 6.21332 10 5.89998ZM6 2C4 2 2 2.66666 2 3.99333C2 5.33333 4 5.98665 6 5.98665C8 5.98665 10 5.33333 10 3.99333C10 2.66666 8 2 6 2ZM10 12.5067C8.32667 12.5067 6.9 12.0667 6 11.3534V12.0067C6 13.3333 8 14 10 14C12 14 14 13.3333 14 12.0067V11.3534C13.1 12.0667 11.6733 12.5067 10 12.5067ZM10 7.52002C7.79333 7.52002 6 8.41335 6 9.51335C6 10.6133 7.79333 11.5067 10 11.5067C12.2067 11.5067 14 10.6133 14 9.51335C14 8.41335 12.2067 7.52002 10 7.52002Z"})})},12256:function(e,t,n){"use strict";var i=n(57437),r=n(6353),a=n(17800);t.Z=e=>(0,i.jsx)(r.J,{width:6,height:"calc(".concat(a.cM," * 1.5625)"),viewBox:"0 0 24 25",fill:"currentColor",...e,children:(0,i.jsx)("g",{children:(0,i.jsx)("path",{d:"M3.30005 11.25H10.95C11.116 11.25 11.25 11.384 11.25 11.55V14.45C11.25 14.616 11.116 14.75 10.95 14.75H3.30005C3.13405 14.75 3 14.616 3 14.45V11.55C3 11.384 3.13405 11.25 3.30005 11.25ZM3 16.55V17.5C3 19.5 4 20.5 6 20.5H10.95C11.116 20.5 11.25 20.366 11.25 20.2V16.55C11.25 16.384 11.116 16.25 10.95 16.25H3.30005C3.13405 16.25 3 16.384 3 16.55ZM18 4.5H6C4 4.5 3 5.5 3 7.5V9.44995C3 9.61595 3.13405 9.75 3.30005 9.75H20.7C20.866 9.75 21 9.61595 21 9.44995V7.5C21 5.5 20 4.5 18 4.5ZM12.75 11.55V14.45C12.75 14.616 12.884 14.75 13.05 14.75H20.7C20.866 14.75 21 14.616 21 14.45V11.55C21 11.384 20.866 11.25 20.7 11.25H13.05C12.884 11.25 12.75 11.384 12.75 11.55ZM12.75 16.55V20.2C12.75 20.366 12.884 20.5 13.05 20.5H18C20 20.5 21 19.5 21 17.5V16.55C21 16.384 20.866 16.25 20.7 16.25H13.05C12.884 16.25 12.75 16.384 12.75 16.55Z"})})})},51668:function(e,t,n){"use strict";var i=n(57437),r=n(6353);t.Z=e=>(0,i.jsx)(r.J,{width:"1.125rem",height:"1.125rem",viewBox:"0 0 18 18",fill:"none",color:"alert",...e,children:(0,i.jsx)("path",{d:"M8.99984 17.9577C4.05984 17.9577 0.0415039 13.9393 0.0415039 8.99935C0.0415039 4.05935 4.05984 0.0410156 8.99984 0.0410156C13.9398 0.0410156 17.9582 4.05935 17.9582 8.99935C17.9582 13.9393 13.9398 17.9577 8.99984 17.9577ZM8.99984 1.29102C4.749 1.29102 1.2915 4.74852 1.2915 8.99935C1.2915 13.2502 4.749 16.7077 8.99984 16.7077C13.2507 16.7077 16.7082 13.2502 16.7082 8.99935C16.7082 4.74852 13.2507 1.29102 8.99984 1.29102ZM9.84985 11.916C9.84985 11.456 9.47735 11.0827 9.01652 11.0827H9.00818C8.54818 11.0827 8.17892 11.456 8.17892 11.916C8.17892 12.376 8.55652 12.7493 9.01652 12.7493C9.47652 12.7493 9.84985 12.376 9.84985 11.916ZM9.62484 9.05855V5.24935C9.62484 4.90435 9.34484 4.62435 8.99984 4.62435C8.65484 4.62435 8.37484 4.90435 8.37484 5.24935V9.05855C8.37484 9.40355 8.65484 9.68355 8.99984 9.68355C9.34484 9.68355 9.62484 9.40355 9.62484 9.05855Z",fill:"currentColor"})})},54163:function(e,t,n){"use strict";var i=n(57437),r=n(6353),a=n(17800);t.Z=e=>(0,i.jsx)(r.J,{width:"calc(".concat(a.cM," * 3.7500)"),height:"calc(".concat(a.cM," * 3.4375)"),viewBox:"0 0 60 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.2419 4.46812C26.2063 -0.801872 33.7939 -0.801875 36.7583 4.46812L58.393 42.9299C61.3005 48.0987 57.5653 54.4853 51.6348 54.4853H8.36535C2.43491 54.4853 -1.30028 48.0987 1.60718 42.9299L23.2419 4.46812ZM33.8768 42.8548C33.8768 44.996 32.141 46.7318 29.9998 46.7318C27.8586 46.7318 26.1228 44.996 26.1228 42.8548C26.1228 40.7136 27.8586 38.9778 29.9998 38.9778C32.141 38.9778 33.8768 40.7136 33.8768 42.8548ZM29.9998 11.839C27.8586 11.839 26.1228 13.5747 26.1228 15.7159V27.3469C26.1228 29.4881 27.8586 31.2239 29.9998 31.2239C32.141 31.2239 33.8767 29.4881 33.8767 27.3469V15.7159C33.8767 13.5747 32.141 11.839 29.9998 11.839Z",fill:"#E45F35"})})},82555:function(e,t,n){"use strict";var i=n(57437),r=n(6353),a=n(2265);t.Z=e=>{let t=(0,a.useId)();return(0,i.jsx)(r.J,{width:"5",height:"5",viewBox:"0 0 20 20",fill:"none",...e,children:(0,i.jsxs)("svg",{children:[(0,i.jsx)("circle",{cx:"10",cy:"10",r:"8.5",stroke:"url(#linear-gradient-1-tab-spinner-icon-".concat(t,")"),strokeWidth:"2"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"linear-gradient-1-tab-spinner-icon-".concat(t),x1:"1.2197",y1:"4.5",x2:"16.5327",y2:"2.13901",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#DB519E"}),(0,i.jsx)("stop",{offset:"0.203125",stopColor:"#B14BF4"}),(0,i.jsx)("stop",{offset:"0.416667",stopColor:"#666BD1"}),(0,i.jsx)("stop",{offset:"0.625",stopColor:"#666BD1",stopOpacity:"0"})]})})]})})}},29790:function(e,t,n){"use strict";var i=n(57437),r=n(6353);t.Z=e=>(0,i.jsx)(r.J,{w:"0.875rem",h:"0.8125rem",viewBox:"0 0 14 13",...e,children:(0,i.jsx)("path",{d:"M13 2H10.6273C10.0267 2 10.0013 1.924 9.83667 1.43066L9.702 1.026C9.49733 0.412668 8.926 0 8.27934 0H5.72066C5.074 0 4.502 0.412001 4.298 1.026L4.16334 1.43066C3.99867 1.92466 3.97333 2 3.37267 2H1C0.724 2 0.5 2.224 0.5 2.5C0.5 2.776 0.724 3 1 3H1.86533L2.37667 10.666C2.47534 12.1493 3.38467 13 4.87134 13H9.12933C10.6153 13 11.5247 12.1493 11.624 10.666L12.1353 3H13C13.276 3 13.5 2.776 13.5 2.5C13.5 2.224 13.276 2 13 2ZM5.24666 1.342C5.31533 1.13733 5.50533 1 5.72066 1H8.27934C8.49467 1 8.68534 1.13733 8.75334 1.342L8.888 1.74666C8.91733 1.834 8.94667 1.91867 8.97867 2H5.02C5.052 1.918 5.08201 1.83333 5.11134 1.74666L5.24666 1.342ZM10.6253 10.5993C10.562 11.5547 10.086 12 9.12866 12H4.87067C3.91333 12 3.438 11.5553 3.374 10.5993L2.86734 3H3.372C3.45533 3 3.52467 2.99134 3.59933 2.986C3.622 2.98934 3.64267 3 3.666 3H10.3327C10.3567 3 10.3767 2.98934 10.3993 2.986C10.474 2.99134 10.5433 3 10.6267 3H11.1313L10.6253 10.5993ZM8.83333 5.83333V9.16667C8.83333 9.44267 8.60933 9.66667 8.33333 9.66667C8.05733 9.66667 7.83333 9.44267 7.83333 9.16667V5.83333C7.83333 5.55733 8.05733 5.33333 8.33333 5.33333C8.60933 5.33333 8.83333 5.55733 8.83333 5.83333ZM6.16667 5.83333V9.16667C6.16667 9.44267 5.94267 9.66667 5.66667 9.66667C5.39067 9.66667 5.16667 9.44267 5.16667 9.16667V5.83333C5.16667 5.55733 5.39067 5.33333 5.66667 5.33333C5.94267 5.33333 6.16667 5.55733 6.16667 5.83333Z",fill:"currentColor"})})},50371:function(e,t,n){"use strict";var i=n(57437),r=n(17800);t.Z=e=>(0,i.jsx)("svg",{width:"calc(".concat(r.cM," * 2.875)"),height:"calc(".concat(r.cM," * 2.875)"),viewBox:"0 0 46 46",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M16.2341 12.5159C15.6725 11.9543 15.6725 11.0438 16.2341 10.4822L21.9841 4.73223C22.1164 4.59998 22.2757 4.49458 22.452 4.42175C22.8028 4.27608 23.1995 4.27608 23.5503 4.42175C23.7266 4.49458 23.8855 4.59998 24.0178 4.73223L29.7678 10.4822C30.3293 11.0438 30.3293 11.9543 29.7678 12.5159C29.4879 12.7957 29.1199 12.9375 28.7519 12.9375C28.3839 12.9375 28.0158 12.7976 27.736 12.5159L24.4394 9.21915V30.6667C24.4394 31.4602 23.7954 32.1042 23.0019 32.1042C22.2084 32.1042 21.5644 31.4602 21.5644 30.6667V9.22102L18.2678 12.5177C17.7043 13.0774 16.7957 13.0775 16.2341 12.5159ZM34.5 17.7292C33.7065 17.7292 33.0625 18.3732 33.0625 19.1667C33.0625 19.9602 33.7065 20.6042 34.5 20.6042C37.5226 20.6042 38.8125 21.8941 38.8125 24.9167V34.5C38.8125 37.5226 37.5226 38.8125 34.5 38.8125H11.5C8.47742 38.8125 7.1875 37.5226 7.1875 34.5V24.9167C7.1875 21.8941 8.47742 20.6042 11.5 20.6042C12.2935 20.6042 12.9375 19.9602 12.9375 19.1667C12.9375 18.3732 12.2935 17.7292 11.5 17.7292C6.8655 17.7292 4.3125 20.2822 4.3125 24.9167V34.5C4.3125 39.1345 6.8655 41.6875 11.5 41.6875H34.5C39.1345 41.6875 41.6875 39.1345 41.6875 34.5V24.9167C41.6875 20.2822 39.1345 17.7292 34.5 17.7292Z",fill:"currentColor"})})},25092:function(e,t,n){"use strict";var i=n(57437),r=n(90079),a=n.n(r),l=n(64838),o=n(9109).Buffer;t.Z=e=>{let{onDrop:t,onError:n,disabled:r,children:s,fileDialogRef:d,openDialogOnClick:c,...u}=e,g=async e=>{let t=o.from(await e.arrayBuffer());try{let e=a()(t);if(!e)return{code:"couldnt-parse-image",message:"The image dropped was not able to be validated"};if(!["jpg","png","webp"].includes(e.type||""))return{code:"unsupported-image-type",message:"An unsupported image type was loaded. Only .jpg, .png and .webp are supported. (Received ".concat(e.type,")")}}catch(e){return{code:"couldnt-parse-image",message:"The image dropped was not able to be validated"}}return null};return(0,i.jsx)(l.Z,{onDrop:t,onError:n,fileDialogRef:d,openDialogOnClick:c,disabled:r||!t,acceptedFileFormats:{"image/jpeg":[],"image/png":[],"image/webp":[]},maxFileSize:26214400,additionalValidation:g,...u,children:s})}},41535:function(e,t,n){"use strict";n.d(t,{$R:function(){return o},hW:function(){return r},qO:function(){return s}});var i,r,a=n(2265),l=n(39554);(i=r||(r={})).Trending="Trending",i.New="New",i.Top="Top";let o={VALUE:"Trending",INDEX:0},s=e=>{let[t,n]=(0,a.useState)(e),i=(0,a.useMemo)(()=>"Top"===t,[t]),r=(0,a.useMemo)(()=>"Trending"===t,[t]),o=(0,a.useMemo)(()=>"New"===t,[t]),s=(0,a.useMemo)(()=>({likeCount:l.Lqo.Desc}),[]),d=(0,a.useMemo)(()=>({trendingScore:l.Lqo.Desc}),[]);return(0,a.useMemo)(()=>({isTop:i,isTrending:r,exploreFilter:t,setExploreFilter:n,whereLikes:s,whereTrending:d,isNew:o}),[t,o,i,r,s,d])}},25225:function(e,t,n){"use strict";n.d(t,{W:function(){return r},e:function(){return m}});var i,r,a=n(64688),l=n(16463),o=n(2265),s=n(75545),d=n(41535),c=n(21368),u=n(91734),g=n(8997),h=n(56572);(i=r||(r={})).All="All",i.Upscaled="Upscaled",i.Motion="Motion";let m=function(){let{onAnyChange:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.T)(),n=(0,l.usePathname)(),[i,r]=(0,o.useState)("All"),[m,p]=(0,o.useState)(""),{exploreFilter:f,isTop:x,isTrending:I,isNew:C,whereLikes:E,whereTrending:b,setExploreFilter:v}=(0,d.qO)(n===u.l.PERSONAL_FEED?d.hW.New:d.$R.VALUE),{generatedCategoryFilter:j,setGeneratedCategoryFilter:O}=(0,c.UP)(),w=(0,o.useCallback)(n=>{null==e||e(),t((0,h.Oh)({feedCategory:n.target.value}))},[t,e]),y=(0,o.useCallback)(t=>{null==e||e(),r(t)},[e]),R=(0,o.useCallback)(t=>{null==e||e(),v(t)},[e,v]),_=(0,o.useCallback)(t=>{null==e||e(),O(t),(0,g.j)(a.trackingCustomEvents.categoriesFilter.id,t)},[e,O]),k=(0,o.useCallback)(t=>{null==e||e(),p(t)},[e]);return(0,o.useMemo)(()=>({exploreFilter:f,generatedCategoryFilter:j,generationTypeFilter:i,handleCategoryChange:w,handleSearch:k,handleSetExploreFilter:R,handleSetGeneratedCategoryFilter:_,handleSetGenerationTypeFilter:y,isTop:x,isTrending:I,isNew:C,searchQuery:m,whereLikes:E,whereTrending:b}),[f,j,i,w,k,R,_,y,C,x,I,m,E,b])}},21368:function(e,t,n){"use strict";n.d(t,{UP:function(){return s},Ye:function(){return o},e6:function(){return l},ld:function(){return r}});var i,r,a=n(2265);(i=r||(r={})).PHOTOGRAPHY="Photography",i.ANIMALS="Animals",i.ANIME="Anime",i.ARCHITECTURE="Architecture",i.CHARACTER="Character",i.FOOD="Food",i.SCIFI="Sci-Fi";let l=e=>e in r,o=e=>{if(e&&l(e))return{generated_image_categories:{image_category:{categoryDisplayName:{_eq:r[e]}}}}},s=e=>{let[t,n]=(0,a.useState)(e);return(0,a.useMemo)(()=>({generatedCategoryFilter:t,generatedCategoryQuery:o,setGeneratedCategoryFilter:n}),[t,n])}},83772:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var i=n(64688);let r=e=>{let{width:t,height:n,isHighResolution:r,isUsingAlchemyV2:a,isUsingPhotoRealV2:l}=e,o=i.ALCHEMY_RESOLUTION_MULTIPLIER;return r&&(o=i.ALCHEMY_RESOLUTION_MULTIPLIER_HIGH_RESOLUTION),(a||l)&&(o=i.ALCHEMY_RESOLUTION_MULTIPLIER_V2),{finalResolutionWidth:o*t,finalResolutionHeight:o*n}}},47590:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var i=n(64688),r=n(93380),a=n(83772);let l=e=>{let{imageWidth:t,imageHeight:n,alchemy:l,highResolution:o,photoReal:s,sdVersion:d,photoRealVersion:c}=e;if(l){let{finalResolutionWidth:e,finalResolutionHeight:l}=(0,a.i)({width:t,height:n,isHighResolution:!!o,isUsingAlchemyV2:(0,r.dU)(d),isUsingPhotoRealV2:!!s&&c===i.PhotoRealVersion.V2});return{width:e,height:l}}return{width:t,height:n}}},35064:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});let i={xl:5,lg:4,md:3,sm:2,xs:1}}}]);